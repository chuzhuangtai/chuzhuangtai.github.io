<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yang.Xu</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-04-05T13:38:13.742Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yang.Xu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>模板引擎</title>
    <link href="http://yoursite.com/2018/04/05/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"/>
    <id>http://yoursite.com/2018/04/05/模板引擎/</id>
    <published>2018-04-05T13:32:56.000Z</published>
    <updated>2018-04-05T13:38:13.742Z</updated>
    
    <content type="html"><![CDATA[<h2 id="模板引擎渲染的本质"><a href="#模板引擎渲染的本质" class="headerlink" title="模板引擎渲染的本质"></a>模板引擎渲染的本质</h2><ul><li>只是字符串的替换<ul><li>使用js语言实现字符串的替换<ul><li>只要有js语言都可以做模板引擎渲染，模板引擎渲染并不一定只在客户端完成<h2 id="客户端模板引擎用法"><a href="#客户端模板引擎用法" class="headerlink" title="客户端模板引擎用法"></a>客户端模板引擎用法</h2></li></ul></li></ul></li><li>（1）导入art-template</li><li>（2） ajax请求模板数据<ul><li>（3）写模板（script标签中 text属性不能是javascript）<br><code>&lt;script typr=&quot;text/html&quot; id=&quot;xx&quot;&gt;&lt;/script&gt;</code></li></ul></li><li>（4）模板引擎渲染  template(模板id，数据)</li></ul><h2 id="express配置模板引擎"><a href="#express配置模板引擎" class="headerlink" title="express配置模板引擎"></a>express配置模板引擎</h2><ul><li>配置模板引擎用法<ul><li>express中的模板引擎：默认情况下express中的模板引擎是jade第三方<ul><li>模板引擎的第三方有很多种，有十几种，art-template只是其中一种</li></ul></li><li>如果想用自己的模板引擎，则需要去对应的模板引擎官网查看如何配置express<ul><li>art-template：<a href="http://aui.github.io/art-template/express/" target="_blank" rel="noopener">http://aui.github.io/art-template/express/</a></li></ul></li><li>1.先下载第三方模块，需要下载两个<ul><li><code>npm install --save art-template</code></li><li><code>npm install --save express-art-template</code></li></ul></li><li>2.配置模板引擎：两行代码<ul><li><code>app.engine(&#39;html&#39;,require(&#39;express-art-template&#39;))</code><ul><li>第一个参数：模板文件的后缀名，一般为html</li><li>第二个参数：要配置的第三方模块，不要修改直接从官网复制粘贴</li></ul></li><li><code>app.set(&#39;view engine&#39;,&#39;html&#39;)</code><ul><li>第一个参数：固定字符串 view engine:模板引擎</li><li>第二个参数：与第一行代码的第一个参数一致即可</li></ul></li><li>一旦配置模板引擎之后，所有的res对象都会添加一个render函数，这就是模板引擎渲染函数</li></ul></li><li>3.使用模板引擎：<code>res.render(&#39;模板文件名&#39;,&#39;要渲染的数据&#39;)</code><ul><li>第一个参数：要渲染的模板文件名<ul><li><strong><em>默认情况下express只会从<code>views</code>文件夹下寻找模板文件</em></strong><ul><li>views是服务端MVC的V层文件夹标准叫法</li></ul></li></ul></li><li>第二个参数：要渲染的数据<ul><li><strong><em>只能是json对象，如果为空则直接响应返回html</em></strong></li></ul></li></ul></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;模板引擎渲染的本质&quot;&gt;&lt;a href=&quot;#模板引擎渲染的本质&quot; class=&quot;headerlink&quot; title=&quot;模板引擎渲染的本质&quot;&gt;&lt;/a&gt;模板引擎渲染的本质&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;只是字符串的替换&lt;ul&gt;
&lt;li&gt;使用js语言实现字符串的替换&lt;ul&gt;

      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="模板引擎" scheme="http://yoursite.com/tags/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/"/>
    
  </entry>
  
  <entry>
    <title>闭包</title>
    <link href="http://yoursite.com/2018/03/12/%E9%97%AD%E5%8C%85/"/>
    <id>http://yoursite.com/2018/03/12/闭包/</id>
    <published>2018-03-12T10:01:27.000Z</published>
    <updated>2018-03-12T09:01:34.430Z</updated>
    
    <content type="html"><![CDATA[<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><blockquote><p>闭包就是能够读取其他函数内部变量的函数。在本质上，闭包是将函数内部和函数外部连接起来的桥梁。</p></blockquote><h3 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h3><ol><li>让函数外可以访问函数内成员</li><li>让函数内成员始终活在内存中，生命周期延长。</li><li>解决变量污染（只读不改）面向对象封装思想<ul><li>减少变量声明</li></ul></li><li>控制某些数据访问权限（过滤非法数据）</li></ol><ul><li>闭包不能滥用，否则会导致内存泄露，影响网页的性能。闭包使用完了后，要立即释放资源，将引用变量指向null。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;闭包&quot;&gt;&lt;a href=&quot;#闭包&quot; class=&quot;headerlink&quot; title=&quot;闭包&quot;&gt;&lt;/a&gt;闭包&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;闭包就是能够读取其他函数内部变量的函数。在本质上，闭包是将函数内部和函数外部连接起来的桥梁。&lt;/p&gt;
&lt;/bloc
      
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/categories/js/"/>
    
    
      <category term="闭包" scheme="http://yoursite.com/tags/%E9%97%AD%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>Canvas动画</title>
    <link href="http://yoursite.com/2018/03/01/Canvas%E5%8A%A8%E7%94%BB/"/>
    <id>http://yoursite.com/2018/03/01/Canvas动画/</id>
    <published>2018-03-01T10:27:09.000Z</published>
    <updated>2018-03-12T06:43:23.050Z</updated>
    
    <content type="html"><![CDATA[<h2 id="动画与变形"><a href="#动画与变形" class="headerlink" title="动画与变形"></a>动画与变形</h2><h3 id="动画原理"><a href="#动画原理" class="headerlink" title="动画原理"></a>动画原理</h3><ol><li>动画的原理，就是一张张画面连续快速播放，当速度超过每秒24张时，人的肉眼就不会分辨出卡顿感。而觉得是在播放连续的视频动画</li><li>所以， 我们要实现动画，只需要隔十几毫秒把屏幕清空之后，重新绘制下一帧就可以了</li></ol><h3 id="执行动画方案"><a href="#执行动画方案" class="headerlink" title="执行动画方案"></a>执行动画方案</h3><ol><li>我们可以用window.setInterval(), window.setTimeout(),和window.requestAnimationFrame()来设定定期执行一个指定函数。</li><li>setInterval(function, delay): 当设定好间隔时间后，function会定期执行。</li><li>setTimeout(function, delay): 在设定好的时间之后执行函数</li><li>requestAnimationFrame(callback): 递归调用的形式才实现动画，动画的频率跟随浏览器的刷新频率，效率比较高，连续动画都使用这种方式就可以了</li></ol><h3 id="弹球动画讲解"><a href="#弹球动画讲解" class="headerlink" title="弹球动画讲解"></a>弹球动画讲解</h3><ol><li><p>先实现绘制某一帧的方法(draw())</p><ol><li>清空canvas</li><li>绘制小球</li><li>更改小球的位置</li></ol></li><li><p>添加一个动画(window.requesAnimationFrame(draw))</p></li><li><p>边界处理</p><ul><li>如果小球到达边界，修改其速度为反方向；</li></ul></li><li><p>代码实现</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line">    ctx.fillStyle = <span class="string">"blue"</span>;</span><br><span class="line">    <span class="keyword">var</span> animation;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个圆对象</span></span><br><span class="line">    <span class="keyword">var</span> circle = &#123;</span><br><span class="line">        radias: <span class="number">30</span>,</span><br><span class="line">        x: <span class="number">0</span>,</span><br><span class="line">        y: <span class="number">0</span>,</span><br><span class="line">        speedx: <span class="number">2</span>,</span><br><span class="line">        speedy: <span class="number">1</span>,</span><br><span class="line">        isRunning: <span class="literal">false</span>,</span><br><span class="line"></span><br><span class="line">        draw: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">//画一个圆</span></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(<span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.radias, <span class="number">0</span>, <span class="number">2</span>*<span class="built_in">Math</span>.PI);</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//每一帧，圆的位置都会发生变化</span></span><br><span class="line">        circle.x += circle.speedx;</span><br><span class="line">        circle.y += circle.speedy;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//边界判断，到了边界就调头</span></span><br><span class="line">        <span class="keyword">if</span> (circle.x == canvas.width-circle.radias || circle.x == circle.radias) &#123;</span><br><span class="line">            circle.speedx = -circle.speedx;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (circle.y == canvas.height-circle.radias || circle.y == circle.radias) &#123;</span><br><span class="line">            circle.speedy = -circle.speedy;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制小球，绘制当前帧，把上一帧的画面清空</span></span><br><span class="line">        <span class="comment">//ctx.clearRect(0, 0, canvas.width, canvas.height);</span></span><br><span class="line">        ctx.save();</span><br><span class="line">        ctx.fillStyle = <span class="string">"rgba(255,255,255,0.2)"</span>;</span><br><span class="line">        <span class="comment">//ctx.fillStyle = "red";</span></span><br><span class="line">        ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width,canvas.height);</span><br><span class="line">        ctx.restore();</span><br><span class="line">        circle.draw();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//开始执行动画</span></span><br><span class="line">        animation = <span class="built_in">window</span>.requestAnimationFrame(draw);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加点击事件，当点击时，如果正在运行，则暂停，如果没有正在运行，则点击动行</span></span><br><span class="line">    canvas.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!circle.isRunning) &#123;</span><br><span class="line">            circle.x = e.clientX;</span><br><span class="line">            circle.y = e.clientY;</span><br><span class="line">            animation = <span class="built_in">window</span>.requestAnimationFrame(draw);</span><br><span class="line">            circle.isRunning = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            circle.isRunning = <span class="literal">false</span>;</span><br><span class="line">            <span class="built_in">window</span>.cancelAnimationFrame(animation);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="变形"><a href="#变形" class="headerlink" title="变形"></a>变形</h3><h4 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h4><ol><li><p>scale是用来缩放画布元素的坐标和宽高。如果一张（100*100）的画布，scale为（0.5, 0.5），用fillRect(50, 50, 50, 50)来画一个正方形，实际显示效果未缩放前的（25, 25, 25, 25）位置和大小的效果是一样的。</p></li><li><p>代码与示例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置画笔的粗细和颜色</span></span><br><span class="line">    ctx.lineWidth = <span class="number">1</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1. 将画笔移动到某个点</span></span><br><span class="line">    ctx.moveTo(<span class="number">0</span>, <span class="number">200</span>);</span><br><span class="line">    <span class="comment">//2. 从上面这个点开始，划一条直接到某一个点</span></span><br><span class="line">    ctx.lineTo(<span class="number">600</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    ctx.moveTo(<span class="number">300</span>, <span class="number">0</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">300</span>, <span class="number">400</span>);</span><br><span class="line">    <span class="comment">//3. 填充颜色</span></span><br><span class="line">    ctx.stroke();</span><br><span class="line"></span><br><span class="line">    ctx.fillRect(<span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    ctx.scale(<span class="number">0.5</span>, <span class="number">0.5</span>);</span><br><span class="line">    ctx.fillRect(<span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h4><ol><li><p>平移就是改变往水平或垂直方向，改变参考原点的值。translate(100, 100);就是绘图时，在当前参考原点的基本之上，向右平移100像素，向下平移100像素。</p></li><li><p>代码与示例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置画笔的粗细和颜色</span></span><br><span class="line">    ctx.lineWidth = <span class="number">1</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">"red"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1. 将画笔移动到某个点</span></span><br><span class="line">    ctx.moveTo(<span class="number">0</span>, <span class="number">200</span>);</span><br><span class="line">    <span class="comment">//2. 从上面这个点开始，划一条直接到某一个点</span></span><br><span class="line">    ctx.lineTo(<span class="number">600</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    ctx.moveTo(<span class="number">300</span>, <span class="number">0</span>);</span><br><span class="line">    ctx.lineTo(<span class="number">300</span>, <span class="number">400</span>);</span><br><span class="line">    <span class="comment">//3. 填充颜色</span></span><br><span class="line">    ctx.stroke();</span><br><span class="line"></span><br><span class="line">    ctx.fillRect(<span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    ctx.translate(<span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    ctx.fillRect(<span class="number">300</span>, <span class="number">200</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h4><ol><li><p>旋转，就是围绕当前的原点，坐标系发生旋转。</p></li><li><p>代码与示例</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</span><br><span class="line">    <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.save();</span><br><span class="line">    ctx.translate(<span class="number">200</span>, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//画30条直线，角度不一样</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">30</span>; i++) &#123;</span><br><span class="line">        ctx.rotate(<span class="number">1</span>/<span class="number">15</span>*<span class="built_in">Math</span>.PI);</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.moveTo(<span class="number">30</span>, <span class="number">0</span>);</span><br><span class="line">        ctx.lineTo(<span class="number">150</span>, <span class="number">0</span>);</span><br><span class="line">        ctx.stroke();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ctx.restore();</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>​</p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;动画与变形&quot;&gt;&lt;a href=&quot;#动画与变形&quot; class=&quot;headerlink&quot; title=&quot;动画与变形&quot;&gt;&lt;/a&gt;动画与变形&lt;/h2&gt;&lt;h3 id=&quot;动画原理&quot;&gt;&lt;a href=&quot;#动画原理&quot; class=&quot;headerlink&quot; title=&quot;动画原理&quot;
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="canvas" scheme="http://yoursite.com/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>前端性能优化总结</title>
    <link href="http://yoursite.com/2018/02/26/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/02/26/前端性能优化工作总结/</id>
    <published>2018-02-26T14:03:55.000Z</published>
    <updated>2018-03-16T05:11:03.931Z</updated>
    
    <content type="html"><![CDATA[<h2 id="性能优化总结"><a href="#性能优化总结" class="headerlink" title="性能优化总结"></a>性能优化总结</h2><h3 id="1-减少http请求"><a href="#1-减少http请求" class="headerlink" title="1. 减少http请求"></a>1. 减少http请求</h3><p>​    减少http的主要手段是合并CSS、合并javascript、合并图片。将浏览器一次访问需要的javascript和CSS合并成一个文件，这样浏览器就只需要一次请求。图片也可以合并，多张图片合并成一张。如果每张图片都有不同的超链接，可通过CSS偏移响应鼠标点击操作，构造不同的URL。</p><h3 id="2-使用浏览器缓存"><a href="#2-使用浏览器缓存" class="headerlink" title="2. 使用浏览器缓存"></a>2. 使用浏览器缓存</h3><p>​    对一个网站而言，CSS、javascript、logo、图标这些静态资源文件更新的频率都比较低，而这些文件又几乎是每次http请求都需要的，如果将这些文件缓存在浏览器中，可以极好的改善性能。</p><p>​    可以使用localStorage来存储数据。</p><h3 id="3-CSS放在页面最上部，javascript放在页面最下面"><a href="#3-CSS放在页面最上部，javascript放在页面最下面" class="headerlink" title="3. CSS放在页面最上部，javascript放在页面最下面"></a>3. CSS放在页面最上部，javascript放在页面最下面</h3><p>​    浏览器会在下载完成全部CSS之后才对整个页面进行渲染，因此最好的做法是将CSS放在页面最上面，让浏览器尽快下载CSS。如果将 CSS放在其他地方比如 BODY中，则浏览器有可能还未下载和解析到 CSS就已经开始渲染页面了，这就导致页面由无 CSS状态跳转到 CSS状态，用户体验比较糟糕，所以可以考虑将CSS放在HEAD中。</p><p>​        Javascript则相反，浏览器在加载javascript后立即执行，有可能会阻塞整个页面，造成页面显示缓慢，因此javascript最好放在页面最下面。但如果页面解析时就需要用到javascript，这时放到底部就不合适了，不过这时候可以写入口函数，让这段js代码在程序运行最开始调用。</p><h3 id="3-避免页面跳转"><a href="#3-避免页面跳转" class="headerlink" title="3. 避免页面跳转"></a>3. 避免页面跳转</h3><p>​    可以使用ajax进行无刷新和后台交互，利用js来发送请求报文。阻止a标签默认事件。</p><h3 id="4-对图片进行优化"><a href="#4-对图片进行优化" class="headerlink" title="4. 对图片进行优化"></a>4. 对图片进行优化</h3><ul><li><p>图片懒加载</p></li><li><p>小图片可以做成精灵图，或字体图标</p></li><li><p>加载完成前先准备一张压缩的特别厉害的缩略图，提高用户体验</p></li><li><p>如果为幻灯片、相册等，可以使用图片预加载技术，将当前展示图片的前一张和后一张优先下载。</p><p>​</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;性能优化总结&quot;&gt;&lt;a href=&quot;#性能优化总结&quot; class=&quot;headerlink&quot; title=&quot;性能优化总结&quot;&gt;&lt;/a&gt;性能优化总结&lt;/h2&gt;&lt;h3 id=&quot;1-减少http请求&quot;&gt;&lt;a href=&quot;#1-减少http请求&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>响应式viewport设计</title>
    <link href="http://yoursite.com/2018/01/14/viewport/"/>
    <id>http://yoursite.com/2018/01/14/viewport/</id>
    <published>2018-01-14T02:29:12.000Z</published>
    <updated>2018-03-12T06:57:51.258Z</updated>
    
    <content type="html"><![CDATA[<h2 id="响应式viewport设计"><a href="#响应式viewport设计" class="headerlink" title="响应式viewport设计"></a>响应式viewport设计</h2><h3 id="什么是-Viewport"><a href="#什么是-Viewport" class="headerlink" title="什么是 Viewport?"></a>什么是 Viewport?</h3><p>viewport 是用户网页的可视区域。</p><ul><li>viewport 翻译为中文可以叫做”视区”。</li></ul><blockquote><p> 在移动设备里面， 屏幕可以把它相像成一个窗户。 网页是在窗户的后面一个叫做 视区（viewport）的区域显示的。 就相当于在窗记的后面有一块可以滑动的幕布。 一般情况下， viewport的宽度，会比手机的实际的宽度要大。</p></blockquote><pre><code>   viewport的背景： 在智能手机才出来的时候，所有的pc端的网页，要想在手机上完整显示， 必须只能左右滑动。 这样的话只能让手机的可视区。比手机屏幕的宽度要大。      就产生了一个问题： 在布局的时候，如果使用百分比布局，参考的屏幕的宽度可能是一个错误的值。    强制去设置视口的宽度和屏幕的宽度一致。    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</code></pre><h3 id="viewport的属性的介绍"><a href="#viewport的属性的介绍" class="headerlink" title="viewport的属性的介绍"></a>viewport的属性的介绍</h3><ul><li>height：和 width 相对应，指定高度。</li><li>initial-scale：初始缩放比例，也即是当页面第一次 load 的时候缩放比例。</li><li>maximum-scale：允许用户缩放到的最大比例。</li><li>minimum-scale：允许用户缩放到的最小比例。</li><li>user-scalable：用户是否可以手动缩放。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;响应式viewport设计&quot;&gt;&lt;a href=&quot;#响应式viewport设计&quot; class=&quot;headerlink&quot; title=&quot;响应式viewport设计&quot;&gt;&lt;/a&gt;响应式viewport设计&lt;/h2&gt;&lt;h3 id=&quot;什么是-Viewport&quot;&gt;&lt;a href
      
    
    </summary>
    
      <category term="web移动端" scheme="http://yoursite.com/categories/web%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
    
      <category term="viewport设计" scheme="http://yoursite.com/tags/viewport%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>JS的本地保存用法总结</title>
    <link href="http://yoursite.com/2018/01/09/%E6%9C%AC%E5%9C%B0%E4%BF%9D%E5%AD%98%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93/"/>
    <id>http://yoursite.com/2018/01/09/本地保存用法总结/</id>
    <published>2018-01-09T06:21:32.000Z</published>
    <updated>2018-03-12T06:37:02.345Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JS的本地保存用法总结"><a href="#JS的本地保存用法总结" class="headerlink" title="JS的本地保存用法总结"></a>JS的本地保存用法总结</h2><h3 id="localStorage和sessionStorage的区别"><a href="#localStorage和sessionStorage的区别" class="headerlink" title="localStorage和sessionStorage的区别"></a>localStorage和sessionStorage的区别</h3><blockquote><p>JS中为了减少与服务器的通信，经常会用到保存的数据到本地的功能，例如本地用户信息保存。</p></blockquote><pre><code>1. localStorage和sessionStorage一样都是用来存储客户端临时信息的对象。2. 他们均只能存储字符串类型的对象（虽然规范中可以存储其他原生类型的对象，但是目前为止没有浏览器对其进行实现）。3. localStorage生命周期是永久，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。sessionStorage生命周期为当前窗口或标签页，一旦窗口或标签页被永久关闭了，那么所有通过sessionStorage存储的数据也就被清空了4. 不同浏览器无法共享localStorage或sessionStorage中的信息。相同浏览器的不同页面间可以共享相同的localStorage（页面属于相同域名和端口），但是不同页面或标签页间无法共享sessionStorage的信息。这里需要注意的是，页面及标签页仅指顶级窗口，如果一个标签页包含多个iframe标签且他们属于同源页面，那么他们之间是可以共享sessionStorage的。</code></pre><h3 id="localStorage、和sessionStorage的用法"><a href="#localStorage、和sessionStorage的用法" class="headerlink" title="localStorage、和sessionStorage的用法"></a>localStorage、和sessionStorage的用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">localStorage和sessionStorage使用时使用相同的API：</span><br><span class="line"></span><br><span class="line">localStorage.setItem(&quot;key&quot;,&quot;value&quot;);//以“key”为名称存储一个值“value”</span><br><span class="line"></span><br><span class="line">localStorage.getItem(&quot;key&quot;);//获取名称为“key”的值</span><br><span class="line"></span><br><span class="line">列举localStorage的方法：</span><br><span class="line"></span><br><span class="line">for(var i=0;i&lt;localStorage.length;i++)&#123;</span><br><span class="line"></span><br><span class="line">     var name = localStorage.key(i);</span><br><span class="line"></span><br><span class="line">     var value = localStorage.getItem(name);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">删除localStorage中存储信息的方法：</span><br><span class="line"></span><br><span class="line">localStorage.removeItem(&quot;key&quot;);//删除名称为“key”的信息。</span><br><span class="line"></span><br><span class="line">localStorage.clear();//清空localStorage中所有信息</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;JS的本地保存用法总结&quot;&gt;&lt;a href=&quot;#JS的本地保存用法总结&quot; class=&quot;headerlink&quot; title=&quot;JS的本地保存用法总结&quot;&gt;&lt;/a&gt;JS的本地保存用法总结&lt;/h2&gt;&lt;h3 id=&quot;localStorage和sessionStorage的区
      
    
    </summary>
    
      <category term="JS" scheme="http://yoursite.com/categories/JS/"/>
    
    
      <category term="本地存储" scheme="http://yoursite.com/tags/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
  <entry>
    <title>盒子拖拽</title>
    <link href="http://yoursite.com/2017/12/20/%E6%8B%96%E6%8B%BD/"/>
    <id>http://yoursite.com/2017/12/20/拖拽/</id>
    <published>2017-12-20T13:11:51.000Z</published>
    <updated>2018-03-30T13:12:10.787Z</updated>
    
    <content type="html"><![CDATA[<h2 id="拖拽"><a href="#拖拽" class="headerlink" title="拖拽"></a>拖拽</h2><h3 id="拖拽事件"><a href="#拖拽事件" class="headerlink" title="拖拽事件"></a>拖拽事件</h3><ul><li>要想让一个元素可以被拖拽，需要设置其 draggable=”true”</li><li><p>被拖拽的子元素，可以实现以下事件：</p><ul><li>ondragstart： 拖拽开始</li><li>ondrag：拖拽中</li><li>ondragend： 拖拽结束</li><li>ondragleave： 离开父盒子</li><li>ondrop: 松手</li></ul></li><li><p>对被拖入子元素的父盒子</p><ul><li>ondragover： 经过父盒子</li><li>ondragenter： 进入父盒子<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3></li></ul></li><li>将红色方块从第一个盒子移入第二个盒子中<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .box1, .box2 &#123;</span></span><br><span class="line"><span class="undefined">            width: 800px;</span></span><br><span class="line"><span class="undefined">            height: 200px;</span></span><br><span class="line"><span class="undefined">            background-color: yellowgreen;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .littleBox &#123;</span></span><br><span class="line"><span class="undefined">            width: 100px;</span></span><br><span class="line"><span class="undefined">            height: 100px;</span></span><br><span class="line"><span class="undefined">            background-color: red;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>第一个盒子<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"littleBox"</span> <span class="attr">draggable</span>=<span class="string">"true"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>第二个盒子<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">     var littleBox = document.querySelector(".littleBox");</span></span><br><span class="line"><span class="undefined">     var beginBox = document.querySelector(".box1");</span></span><br><span class="line"><span class="undefined">     var endBox = document.querySelector(".box2");</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     //开始拖拽</span></span><br><span class="line"><span class="undefined">     littleBox.ondragstart = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("开始拖拽");</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     //拖拽中</span></span><br><span class="line"><span class="undefined">     littleBox.ondrag = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("正在拖拽");</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     //拖拽结束</span></span><br><span class="line"><span class="undefined">     littleBox.ondragend = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("结束拖拽");</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     //离开父盒子</span></span><br><span class="line"><span class="undefined">     littleBox.ondragleave = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("离开父盒子");</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     //为下面的盒子绑定拖入事件</span></span><br><span class="line"><span class="undefined">     //默认是不允许拖入的， 修改默认值</span></span><br><span class="line"><span class="undefined">     endBox.ondragover = function (event) &#123;</span></span><br><span class="line"><span class="undefined">         //阻止默认行为</span></span><br><span class="line"><span class="undefined">         event.preventDefault();</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     endBox.ondragenter = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("进入");</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">     endBox.ondrop = function () &#123;</span></span><br><span class="line"><span class="undefined">         console.log("松手");</span></span><br><span class="line"><span class="undefined">         this.appendChild(littleBox);</span></span><br><span class="line"><span class="undefined">     &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;拖拽&quot;&gt;&lt;a href=&quot;#拖拽&quot; class=&quot;headerlink&quot; title=&quot;拖拽&quot;&gt;&lt;/a&gt;拖拽&lt;/h2&gt;&lt;h3 id=&quot;拖拽事件&quot;&gt;&lt;a href=&quot;#拖拽事件&quot; class=&quot;headerlink&quot; title=&quot;拖拽事件&quot;&gt;&lt;/a&gt;拖拽事件&lt;/h
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>会话技术</title>
    <link href="http://yoursite.com/2017/10/13/%E4%BC%9A%E8%AF%9D%E7%8A%B6%E6%80%81/"/>
    <id>http://yoursite.com/2017/10/13/会话状态/</id>
    <published>2017-10-13T06:46:12.000Z</published>
    <updated>2018-03-14T06:46:25.344Z</updated>
    
    <content type="html"><![CDATA[<h2 id="会话技术"><a href="#会话技术" class="headerlink" title="会话技术"></a>会话技术</h2><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><h3 id="cookie原理分析"><a href="#cookie原理分析" class="headerlink" title="cookie原理分析"></a>cookie原理分析</h3><ul><li>一个cookie的设置以及发送过程分为以下四步<ol><li>客户端发送一个http请求到服务器端 </li><li>服务器端发送一个http响应到客户端，其中包含Set-Cookie头部 </li><li>客户端发送一个http请求到服务器端，其中包含Cookie头部 </li><li>服务器端发送一个http响应到客户端 </li></ol></li></ul><h4 id="cookie常用属性"><a href="#cookie常用属性" class="headerlink" title="cookie常用属性"></a>cookie常用属性</h4><ul><li>expires 有效期 </li><li>path 路径 </li><li>domain 域名 </li></ul><h3 id="服务器操作cookie"><a href="#服务器操作cookie" class="headerlink" title="服务器操作cookie"></a>服务器操作cookie</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置cookie</span></span><br><span class="line"><span class="comment">// setcookie(name, value, expire, path, domain);</span></span><br><span class="line"><span class="comment">// 设置1小时后过期</span></span><br><span class="line">setcookie(<span class="string">"user"</span>, <span class="string">"lisi"</span>, time()+<span class="number">3600</span>);</span><br><span class="line"><span class="comment">// 获取单个cookie</span></span><br><span class="line"><span class="keyword">echo</span> $_COOKIE[<span class="string">"user"</span>];</span><br><span class="line"><span class="comment">// 查看所有cookie</span></span><br><span class="line">print_r($_COOKIE);</span><br></pre></td></tr></table></figure><h4 id="js对cookie基本操作"><a href="#js对cookie基本操作" class="headerlink" title="js对cookie基本操作"></a>js对cookie基本操作</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置cookie</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params">key,value,param</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.cookie = key + <span class="string">'='</span> + value + <span class="string">'; expires='</span> + param.expires + <span class="string">'; path='</span> + param.path; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 获取cookie</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> cookies = <span class="built_in">document</span>.cookie;</span><br><span class="line">    <span class="keyword">var</span> arr = cookies.split(<span class="string">'; '</span>);</span><br><span class="line">    <span class="keyword">if</span>(arr)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> kv = arr[i].split(<span class="string">'='</span>);</span><br><span class="line">            <span class="keyword">if</span>(kv[<span class="number">0</span>] == key)&#123;</span><br><span class="line">                <span class="keyword">return</span> kv[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="jQuery插件操作cookie（jquery-cookie-js）"><a href="#jQuery插件操作cookie（jquery-cookie-js）" class="headerlink" title="jQuery插件操作cookie（jquery.cookie.js）"></a>jQuery插件操作cookie（jquery.cookie.js）</h4><ul><li>cookie插件基本使用<ul><li>设置单个cookie</li><li>获取单个cookie</li><li>获取所有cookie</li><li>删除单个cookie</li></ul></li><li>浏览器中cookie基本设置</li></ul><h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><h3 id="session原理分析"><a href="#session原理分析" class="headerlink" title="session原理分析"></a>session原理分析</h3><ul><li>客户端第一次请求服务器时，服务器开启一个session，生成一个唯一标识（sessionid：存储的数据与此sessionid关联），并以响应头的Set-Cookie属性响应到客户端</li><li>客户端的后续请求会一直通过请求头的Cookie属性携带sessionid（客户端与服务器通过此id维持状态）</li></ul><h3 id="session基本操作"><a href="#session基本操作" class="headerlink" title="session基本操作"></a>session基本操作</h3><ul><li><p>设置session</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br><span class="line">$_SESSION[<span class="string">'user'</span>] = <span class="keyword">array</span>(<span class="string">'username'</span>=&gt;<span class="string">'lisi'</span>,<span class="string">'age'</span>=&gt;<span class="string">'12'</span>);</span><br></pre></td></tr></table></figure></li><li><p>读取session</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br><span class="line">$user = $_SESSION[<span class="string">'user'</span>];</span><br></pre></td></tr></table></figure></li><li><p>删除一个session信息</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br><span class="line"><span class="keyword">unset</span>($_SESSION[<span class="string">'user'</span>]);</span><br></pre></td></tr></table></figure></li><li><p>删除所有session信息</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session_start();</span><br><span class="line"><span class="keyword">unset</span>($_SESSION);</span><br></pre></td></tr></table></figure></li><li><p>销毁session</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session_destroy();</span><br></pre></td></tr></table></figure></li></ul><h3 id="session与cookie的关系"><a href="#session与cookie的关系" class="headerlink" title="session与cookie的关系"></a>session与cookie的关系</h3><ul><li>session可以借助cookie实现状态维持，也可以不依赖cookie（URL重写）</li></ul><table><thead><tr><th>区别</th><th>cookie</th><th>session</th></tr></thead><tbody><tr><td>存储位置</td><td>浏览器</td><td>服务器</td></tr><tr><td>浏览器携带的数据量</td><td>多</td><td>少（只携带session-id）</td></tr><tr><td>存储的数据类型</td><td>只能是字符串</td><td>任意类型</td></tr><tr><td>安全性</td><td>较低</td><td>较高</td></tr><tr><td>默认的有效路径</td><td>当前路径及其子路径</td><td>整站有效</td></tr><tr><td>数据的传输量</td><td>有限制4K，不能超过20个</td><td>无限制</td></tr></tbody></table><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>cookie就是一种保存数据的技术，保存的位置是浏览器。</p><ol><li>只能够保存字符串。</li><li>不能保存复杂类型。</li><li>可以随意修改，因为我们能在浏览器看到cookie保存的内容。</li><li>一般是作为登录的判断</li><li>cookie的生命周期很短，默认是一次会话。关闭浏览器就会被销毁</li></ol><p>session就是一种保存数据的技术，保存的位置是服务器。</p><ol><li>可以保存复杂数据类型。</li><li>浏览器中看不到数据</li><li>生命周期长</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;会话技术&quot;&gt;&lt;a href=&quot;#会话技术&quot; class=&quot;headerlink&quot; title=&quot;会话技术&quot;&gt;&lt;/a&gt;会话技术&lt;/h2&gt;&lt;h2 id=&quot;cookie&quot;&gt;&lt;a href=&quot;#cookie&quot; class=&quot;headerlink&quot; title=&quot;cooki
      
    
    </summary>
    
      <category term="php" scheme="http://yoursite.com/categories/php/"/>
    
    
      <category term="会话技术" scheme="http://yoursite.com/tags/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>PHP数据库简单操作</title>
    <link href="http://yoursite.com/2017/09/27/PHP%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <id>http://yoursite.com/2017/09/27/PHP数据库/</id>
    <published>2017-09-27T08:15:17.000Z</published>
    <updated>2018-03-12T09:00:24.401Z</updated>
    
    <content type="html"><![CDATA[<h2 id="数据库操作方式"><a href="#数据库操作方式" class="headerlink" title="数据库操作方式"></a>数据库操作方式</h2><ul><li>图形界面客户端<ul><li>创建连接</li><li>创建数据库</li><li>删除数据库</li><li>创建表</li><li>编辑表</li><li>删除表</li><li>表结构分析</li><li>数据类型分析</li><li>数据增删改查操作</li></ul></li></ul><h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><ul><li>SQL基本概述</li><li><p>插入数据insert</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- insert into 表名 (字段列表) values (值列表)</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> book (<span class="keyword">name</span>,author,<span class="keyword">category</span>,price) <span class="keyword">values</span> (<span class="string">'天龙八部'</span>,<span class="string">'金庸'</span>,<span class="string">'文学'</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure></li><li><p>修改数据update</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- update 表名 set 字段名称1=值1,字段名称2=值2,... where 条件</span></span><br><span class="line"><span class="keyword">update</span> book <span class="keyword">set</span> <span class="keyword">name</span>=<span class="string">'笑傲江湖'</span>,price=<span class="string">'30'</span> <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">10</span></span><br></pre></td></tr></table></figure></li><li><p>删除数据delete</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- delete from 表名 where 条件</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> book <span class="keyword">where</span> <span class="keyword">id</span>=<span class="number">10</span></span><br></pre></td></tr></table></figure></li><li><p>查询数据select</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- select * from 表名 where 条件</span></span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> book <span class="keyword">where</span> author=<span class="string">'金庸'</span> <span class="keyword">and</span> price&gt;<span class="number">20</span></span><br></pre></td></tr></table></figure></li><li><p>简单的联表查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> u.username,b.name <span class="keyword">from</span> <span class="keyword">user</span> u,book b <span class="keyword">where</span> u.id=b.uid <span class="keyword">and</span> b.price&gt;<span class="number">20</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="PHP代码操作数据"><a href="#PHP代码操作数据" class="headerlink" title="PHP代码操作数据"></a>PHP代码操作数据</h2><ul><li><p>连接数据库基本步骤</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、连接数据库</span></span><br><span class="line">$server = <span class="string">'localhost'</span>;<span class="comment">//数据库所在计算机的域名或者IP地址</span></span><br><span class="line">$username = <span class="string">'root'</span>;<span class="comment">//登录数据库的用户名</span></span><br><span class="line">$pw = <span class="string">''</span>;<span class="comment">//登录数据库的密码</span></span><br><span class="line"><span class="comment">// 执行连接操作</span></span><br><span class="line">$link = mysql_connect($server,$username,$pw);</span><br><span class="line"><span class="comment">// 2、选择要操作哪个数据库</span></span><br><span class="line">mysql_select_db(<span class="string">'hello'</span>,$link);</span><br><span class="line"><span class="comment">// 3、设置查询编码</span></span><br><span class="line">mysql_query(<span class="string">"SET names UTF8"</span>);</span><br><span class="line"><span class="comment">// 4、操作数据（通过sql语句操作数据库）</span></span><br><span class="line">$str = <span class="string">'select count(*) as cc from user'</span>;</span><br><span class="line">$result = mysql_query($str);</span><br><span class="line"><span class="comment">// 5、获取数据库的结果集并解析</span></span><br><span class="line">$row = mysql_fetch_assoc($result);</span><br><span class="line"><span class="keyword">echo</span> $row[<span class="string">'cc'</span>];</span><br><span class="line"><span class="comment">// 6、释放资源并关闭数据库</span></span><br><span class="line">mysql_free_result($result);</span><br><span class="line">mysql_close($link);</span><br></pre></td></tr></table></figure></li><li><p>数据库操作常用api</p><ul><li>mysql_connect() 连接数据库</li><li>mysql_select_db() 选择数据库</li><li>mysql_query() 执SQL语句</li><li>mysql_fetch_row() 以索引数组的形式返回结果</li><li>mysql_fetch_assoc() 以关联数组的形式范湖数据</li><li>mysql_fetch_array() 返回索引数组和关联数组</li><li>mysql_fetch_object() 以对象形式返回结果</li><li>mysql_free_result() 释放资源</li><li>mysql_close() 关闭连接</li></ul></li><li>基本增删改查操作</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;数据库操作方式&quot;&gt;&lt;a href=&quot;#数据库操作方式&quot; class=&quot;headerlink&quot; title=&quot;数据库操作方式&quot;&gt;&lt;/a&gt;数据库操作方式&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;图形界面客户端&lt;ul&gt;
&lt;li&gt;创建连接&lt;/li&gt;
&lt;li&gt;创建数据库&lt;/li&gt;
&lt;li
      
    
    </summary>
    
      <category term="PHP" scheme="http://yoursite.com/categories/PHP/"/>
    
    
      <category term="PHP-数据库" scheme="http://yoursite.com/tags/PHP-%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>jQuery操作</title>
    <link href="http://yoursite.com/2017/09/21/jQuery_Class%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2017/09/21/jQuery_Class操作/</id>
    <published>2017-09-21T09:25:18.000Z</published>
    <updated>2018-03-10T09:03:07.194Z</updated>
    
    <content type="html"><![CDATA[<h2 id="jQuery操作"><a href="#jQuery操作" class="headerlink" title="jQuery操作"></a>jQuery操作</h2><h3 id="CSS操作"><a href="#CSS操作" class="headerlink" title="CSS操作"></a>CSS操作</h3><ul><li><p>功能：设置或者修改样式，操作的是style属性。</p></li><li><p>操作单个样式</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name：需要设置的样式名称</span></span><br><span class="line"><span class="comment">// value：对应的样式值</span></span><br><span class="line">$obj.css(name, value);</span><br><span class="line"><span class="comment">// 使用案例</span></span><br><span class="line">$(<span class="string">'#one'</span>).css(<span class="string">'background'</span>,<span class="string">'gray'</span>);<span class="comment">// 将背景色修改为灰色</span></span><br></pre></td></tr></table></figure><ul><li>设置多个样式</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数是一个对象，对象中包含了需要设置的样式名和样式值</span></span><br><span class="line">$obj.css(obj);</span><br><span class="line"><span class="comment">// 使用案例</span></span><br><span class="line">$(<span class="string">'#one'</span>).css(&#123;</span><br><span class="line">    <span class="string">'background'</span>:<span class="string">'gray'</span>,</span><br><span class="line">    <span class="string">'width'</span>:<span class="string">'400px'</span>,</span><br><span class="line">    <span class="string">'height'</span>:<span class="string">'200px'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>获取样式</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name:需要获取的样式名称</span></span><br><span class="line">$obj.css(name);</span><br><span class="line"><span class="comment">// 案例</span></span><br><span class="line">$(<span class="string">'div'</span>).css(<span class="string">'background-color'</span>);</span><br></pre></td></tr></table></figure><p>注意：获取样式操作只会返回第一个元素对应的样式值。</p><p>隐式迭代：</p><ol><li>设置操作的时候，如果是多个元素，那么给所有的元素设置相同的值</li><li>获取操作的时候，如果是多个元素，那么只会返回第一个元素的值。</li></ol><h3 id="class操作"><a href="#class操作" class="headerlink" title="class操作"></a>class操作</h3><ul><li>添加样式类</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name：需要添加的样式类名，注意参数不要带点.</span></span><br><span class="line">$obj.addClass(name);</span><br><span class="line"><span class="comment">// 例子,给所有的div添加one的样式。</span></span><br><span class="line">$(<span class="string">'div'</span>).addClass(<span class="string">'one'</span>);</span><br></pre></td></tr></table></figure><ul><li>移除样式类</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name:需要移除的样式类名</span></span><br><span class="line">$obj.removeClass(<span class="string">'name'</span>);</span><br><span class="line"><span class="comment">// 例子，移除div中one的样式类名</span></span><br><span class="line">$(<span class="string">'div'</span>).removeClass(<span class="string">'one'</span>);</span><br></pre></td></tr></table></figure><ul><li>判断是否有某个样式类</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name:用于判断的样式类名，返回值为true false</span></span><br><span class="line">$obj.hasClass(name)</span><br><span class="line"><span class="comment">// 例子，判断第一个div是否有one的样式类</span></span><br><span class="line">$(<span class="string">'div'</span>).hasClass(<span class="string">'one'</span>);</span><br></pre></td></tr></table></figure><ul><li>切换样式类</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// name:需要切换的样式类名，如果有，移除该样式，如果没有，添加该样式。</span></span><br><span class="line">$obj.toggleClass(name);</span><br><span class="line"><span class="comment">// 例子</span></span><br><span class="line">$(<span class="string">'div'</span>).toggleClass(<span class="string">'one'</span>);</span><br></pre></td></tr></table></figure><h2 id="jQuery节点操作"><a href="#jQuery节点操作" class="headerlink" title="jQuery节点操作"></a>jQuery节点操作</h2><h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $(htmlStr)</span></span><br><span class="line"><span class="comment">// htmlStr：html格式的字符串</span></span><br><span class="line">$(<span class="string">'&lt;span-这是一个span元素&lt;/span-'</span>);</span><br></pre></td></tr></table></figure><h3 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">append  appendTo在被选元素的结尾插入内容</span><br><span class="line">prepend prependTo在被选元素的开头插入内容</span><br><span class="line">before在被选元素之后插入内容</span><br><span class="line">after在被选元素之前插入内容</span><br></pre></td></tr></table></figure><h3 id="清空节点与删除节点"><a href="#清空节点与删除节点" class="headerlink" title="清空节点与删除节点"></a>清空节点与删除节点</h3><ul><li>empty：清空指定节点的所有元素，自身保留(清理门户)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).empty(); <span class="comment">// 清空div的所有内容（推荐使用，会清除子元素上绑定的内容，源码）</span></span><br><span class="line">$(<span class="string">'div'</span>).html(<span class="string">''</span>);<span class="comment">// 使用html方法来清空元素，不推荐使用，会造成内存泄漏，绑定的事件不会被清除。</span></span><br></pre></td></tr></table></figure><ul><li>remove：相比于empty，自身也删除（自杀）</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).remove();</span><br></pre></td></tr></table></figure><h3 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h3><ul><li>作用：复制匹配的元素</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 复制$(selector)所匹配到的元素（深度复制）</span></span><br><span class="line"><span class="comment">// cloneNode(true)</span></span><br><span class="line"><span class="comment">// 返回值为复制的新元素，和原来的元素没有任何关系了。即修改新元素，不会影响到原来的元素。</span></span><br><span class="line">$(selector).clone();</span><br></pre></td></tr></table></figure><h2 id="jQuery操作属性"><a href="#jQuery操作属性" class="headerlink" title="jQuery操作属性"></a>jQuery操作属性</h2><h3 id="attr操作"><a href="#attr操作" class="headerlink" title="attr操作"></a>attr操作</h3><ul><li>设置单个属性</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一个参数：需要设置的属性名</span></span><br><span class="line"><span class="comment">// 第二个参数：对应的属性值</span></span><br><span class="line">$obj.attr(name, value);</span><br><span class="line"><span class="comment">// 用法举例</span></span><br><span class="line">$(<span class="string">'img'</span>).attr(<span class="string">'title'</span>,<span class="string">'哎哟，不错哦'</span>);</span><br><span class="line">$(<span class="string">'img'</span>).attr(<span class="string">'alt'</span>,<span class="string">'哎哟，不错哦'</span>);</span><br></pre></td></tr></table></figure><ul><li>设置多个属性</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数是一个对象，包含了需要设置的属性名和属性值</span></span><br><span class="line">$obj.attr(obj)</span><br><span class="line"><span class="comment">// 用法举例</span></span><br><span class="line">$(<span class="string">'img'</span>).attr(&#123;</span><br><span class="line">    title:<span class="string">'哎哟，不错哦'</span>,</span><br><span class="line">    alt:<span class="string">'哎哟，不错哦'</span>,</span><br><span class="line">    style:<span class="string">'opacity:.5'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>获取属性</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传需要获取的属性名称，返回对应的属性值</span></span><br><span class="line">$obj.attr(name)</span><br><span class="line"><span class="comment">// 用法举例</span></span><br><span class="line"><span class="keyword">var</span> oTitle = $(<span class="string">'img'</span>).attr(<span class="string">'title'</span>);</span><br><span class="line">alert(oTitle);</span><br></pre></td></tr></table></figure><ul><li>移除属性</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数：需要移除的属性名，</span></span><br><span class="line">$obj.removeAttr(name);</span><br><span class="line"><span class="comment">// 用法举例</span></span><br><span class="line">$(<span class="string">'img'</span>).removeAttr(<span class="string">'title'</span>);</span><br></pre></td></tr></table></figure><h3 id="prop操作"><a href="#prop操作" class="headerlink" title="prop操作"></a>prop操作</h3><ul><li>在jQuery1.6之后，对于checked、selected、disabled这类boolean类型的属性来说，不能用attr方法，只能用prop方法。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置属性</span></span><br><span class="line">$(<span class="string">':checked'</span>).prop(<span class="string">'checked'</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 获取属性</span></span><br><span class="line">$(<span class="string">':checked'</span>).prop(<span class="string">'checked'</span>);<span class="comment">// 返回true或者false</span></span><br></pre></td></tr></table></figure><h3 id="val-text-html"><a href="#val-text-html" class="headerlink" title="val()/text/()html()"></a>val()/text/()html()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$obj.val()获取或者设置表单元素的value属性的值</span><br><span class="line">$obj.html() 对应innerHTML</span><br><span class="line">$obj.text()对应innerText/textContent，处理了浏览器的兼容性</span><br></pre></td></tr></table></figure><h2 id="jQuery尺寸和位置操作"><a href="#jQuery尺寸和位置操作" class="headerlink" title="jQuery尺寸和位置操作"></a>jQuery尺寸和位置操作</h2><h3 id="width方法与height方法"><a href="#width方法与height方法" class="headerlink" title="width方法与height方法"></a>width方法与height方法</h3><ul><li>设置或者获取高度，不包括内边距、边框和外边距</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 带参数表示设置高度</span></span><br><span class="line">$(<span class="string">'img'</span>).height(<span class="number">200</span>);</span><br><span class="line"><span class="comment">// 不带参数获取高度</span></span><br><span class="line">$(<span class="string">'img'</span>).height();</span><br></pre></td></tr></table></figure><p>获取网页的可视区宽高</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取可视区宽度</span></span><br><span class="line">$(<span class="built_in">window</span>).width();</span><br><span class="line"><span class="comment">// 获取可视区高度</span></span><br><span class="line">$(<span class="built_in">window</span>).height();</span><br></pre></td></tr></table></figure><h3 id="innerWidth-innerHeight-outerWidth-outerHeight"><a href="#innerWidth-innerHeight-outerWidth-outerHeight" class="headerlink" title="innerWidth/innerHeight/outerWidth/outerHeight"></a>innerWidth/innerHeight/outerWidth/outerHeight</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">innerWidth()/innerHeight()方法返回元素的宽度/高度（包括内边距）。</span><br><span class="line">outerWidth()/outerHeight()  方法返回元素的宽度/高度（包括内边距和边框）。</span><br><span class="line">outerWidth(<span class="literal">true</span>)/outerHeight(<span class="literal">true</span>)  方法返回元素的宽度/高度（包括内边距、边框和外边距）。</span><br></pre></td></tr></table></figure><h3 id="scrollTop与scrollLeft"><a href="#scrollTop与scrollLeft" class="headerlink" title="scrollTop与scrollLeft"></a>scrollTop与scrollLeft</h3><ul><li>设置或者获取垂直滚动条的位置</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取页面被卷曲的高度</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollTop();</span><br><span class="line"><span class="comment">// 获取页面被卷曲的宽度</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollLeft();</span><br></pre></td></tr></table></figure><h3 id="offset方法与position方法"><a href="#offset方法与position方法" class="headerlink" title="offset方法与position方法"></a>offset方法与position方法</h3><ul><li>offset方法获取元素距离document的位置，position方法获取的是元素距离有定位的父元素(offsetParent)的位置。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取元素距离document的位置,返回值为对象：&#123;left:100, top:100&#125;</span></span><br><span class="line">$(selector).offset();</span><br><span class="line"><span class="comment">// 获取相对于其最近的有定位的父元素的位置。</span></span><br><span class="line">$(selector).position();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;jQuery操作&quot;&gt;&lt;a href=&quot;#jQuery操作&quot; class=&quot;headerlink&quot; title=&quot;jQuery操作&quot;&gt;&lt;/a&gt;jQuery操作&lt;/h2&gt;&lt;h3 id=&quot;CSS操作&quot;&gt;&lt;a href=&quot;#CSS操作&quot; class=&quot;headerlink
      
    
    </summary>
    
      <category term="jQuery" scheme="http://yoursite.com/categories/jQuery/"/>
    
    
      <category term="jQuery操作元素" scheme="http://yoursite.com/tags/jQuery%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0/"/>
    
  </entry>
  
  <entry>
    <title>源代码管理工具git</title>
    <link href="http://yoursite.com/2017/08/17/%E6%BA%90%E4%BB%A3%E7%A0%81%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
    <id>http://yoursite.com/2017/08/17/源代码管理工具/</id>
    <published>2017-08-17T05:05:45.000Z</published>
    <updated>2018-03-16T05:08:00.996Z</updated>
    
    <content type="html"><![CDATA[<h2 id="什么是源代码管理工具"><a href="#什么是源代码管理工具" class="headerlink" title="什么是源代码管理工具"></a>什么是源代码管理工具</h2><pre><code>1. 早期源代码通过拷贝粘贴来管理    1. 不方便相互之间获取别人写的代码    2. 两个或者多个人同时修改了一个文件 是否替换 代码会冲突    3. 最终如何解决 ，需要严格约束写代码人员不要同时改一个文件 （如果同一个文件有新增的代码 让项目项目经理负责修改 ） 项目整合也是靠项目整合2. 为了解决源代码管理的问题 就出现了源代码管理工具    1. 方便快捷的获取到别人写的代码       2. 如何解决冲突的问题 使用工具提交 如果有冲突 会同时保留两个人写的代码</code></pre><h2 id="git和svn的区别"><a href="#git和svn的区别" class="headerlink" title="git和svn的区别"></a>git和svn的区别</h2><p>1．SVN优缺点<br>优点：<br>1、 管理方便，逻辑明确，符合一般人思维习惯。<br>2、 易于管理，集中式服务器更能保证安全性。<br>3、 代码一致性非常高。<br>4、 适合开发人数不多的项目开发。<br>缺点：<br>1、 服务器压力太大，数据库容量暴增。<br>2、 如果不能连接到服务器上，基本上不可以工作，看上面第二步，如果服务器不能连接上，就不能提交，还原，对比等等。<br>3、 不适合开源开发（开发人数非常非常多，但是Google app engine就是用svn的）。但是一般集中式管理的有非常明确的权限管理机制（例如分支访问限制），可以实现分层管理，从而很好的解决开发人数众多的问题。</p><p>2．Git优缺点<br>优点：<br>1、适合分布式开发，强调个体。<br>2、公共服务器压力和数据量都不会太大。<br>3、速度快、灵活。<br>4、任意两个开发者之间可以很容易的解决冲突。<br>5、离线工作。<br>缺点：<br>1、学习周期相对而言比较长。<br>2、不符合常规思维。<br>3、代码保密性差，一旦开发者把整个库克隆下来就可以完全公开所有代码和版本信息。</p><blockquote><p>svn比较适合后台项目 代码是私有的</p><p>git比较适合前端项目 代码的公开的</p></blockquote><h2 id="GIT"><a href="#GIT" class="headerlink" title="GIT"></a>GIT</h2><h3 id="1-什么是GIT"><a href="#1-什么是GIT" class="headerlink" title="1. 什么是GIT"></a>1. 什么是GIT</h3><ul><li>是一个源代码管理工具</li><li>GIT是Linux之父当年为了维护管理Linux的源代码写的一个工具</li><li>Git 之前 很多使用 svn vss tfs hs ……</li></ul><ul><li><a href="https://guides.github.com/" target="_blank" rel="noopener">https://guides.github.com/</a></li><li>github是一个git仓库的托管平台 代码库的平台</li></ul><h3 id="2-安装GIT"><a href="#2-安装GIT" class="headerlink" title="2. 安装GIT"></a>2. 安装GIT</h3><ul><li>git命令行工具</li><li>基于git命令行的一个客户端软件（提供一个界面去管理源代码）</li></ul><h3 id="3-GIT命令操作"><a href="#3-GIT命令操作" class="headerlink" title="3. GIT命令操作"></a>3. GIT命令操作</h3><ul><li>初始化一个本地GIT仓储</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd 当前项目目录</span><br><span class="line">git init // 初始化一个本地的仓库</span><br></pre></td></tr></table></figure><blockquote><p>就是在本地文件夹中添加了一个.git的文件夹用于记录所有的项目变更信息</p></blockquote><ul><li>查看本地仓储的变更状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">用于查看本地仓储的状态</span><br><span class="line">第一次查看，显示的是一坨没有被跟踪的文件</span><br><span class="line">git status -s // -s 是输出简要的变更日志</span><br></pre></td></tr></table></figure><ul><li>添加本地暂存（托管）文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add</span><br><span class="line">可以将一个没有被跟踪的文件添加到跟踪列表</span><br><span class="line">类似于node_modules这种性质的文件是不应该被跟踪</span><br></pre></td></tr></table></figure><ul><li>添加本地GIT忽略清单文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在代码库文件夹的根目录添加一个.gitignore文件</span><br><span class="line">此文件用于说明忽略的文件有哪些</span><br></pre></td></tr></table></figure><ul><li>提交被托管的文件变化到本地仓储</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git commit</span><br><span class="line">将本地的变化提交的本地的仓库文件夹归档</span><br><span class="line">一般在有了一个小单元的整体变化后再提交</span><br></pre></td></tr></table></figure><ul><li>对比差异</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git config</span><br><span class="line"></span><br><span class="line">- 用于配置git的配置 入邮箱用户名等</span><br><span class="line"></span><br><span class="line">git diff</span><br><span class="line">可以用于对比当前状态和版本库中状态的变化</span><br></pre></td></tr></table></figure><ul><li>提交日志</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git log   </span><br><span class="line">git log --oneline 查看简要日志</span><br><span class="line">可以查看提交日志</span><br></pre></td></tr></table></figure><ul><li>回归到指定版本</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br></pre></td></tr></table></figure><ul><li><p>为仓储添加远端（服务器端）地址</p></li><li><p>将本地仓储的提交记录推送到远端的master分支</p></li><li><p>拉取远端master分支的更新记录到本地</p></li><li><p>回归到指定版本</p></li></ul><h1 id="git-进阶"><a href="#git-进阶" class="headerlink" title="git 进阶"></a>git 进阶</h1><h2 id="1-分支"><a href="#1-分支" class="headerlink" title="1. 分支"></a>1. 分支</h2><ul><li>查看分支：git branch，当前分支会标有一个*</li><li>创建分支：git branch [分支名称]<ul><li>分支中的代码，与创建那一刻主分支中的内容完全相同</li></ul></li><li>切换分支：git checkout [分支名称]</li><li>(简写)创建并切换分支：git checkout -b [分支名称]</li><li>合并分支：git merge [分支名称]，即：将其他分支合并到当前分支</li><li>删除分支：git branch -d [分支名称]</li></ul><h3 id="合并分支冲突"><a href="#合并分支冲突" class="headerlink" title="合并分支冲突"></a>合并分支冲突</h3><ul><li>注意：合并分支时出现冲突只能手动处理文件，然后，再次提交<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如果在一个从分支中做了修改，然后，在主分支中也做了修改。</span><br><span class="line">此时，将这个从分支合并到主分支的时候，就会出现合并冲突的问题！</span><br></pre></td></tr></table></figure></li></ul><h3 id="分支的说明"><a href="#分支的说明" class="headerlink" title="分支的说明"></a>分支的说明</h3><ul><li>1 公司开发的项目都是由多个分支组成：主分支 + dev分支</li><li>2 项目经理新建项目仓库，所有的程序员都从这个仓库中获取代码，完成开发任务</li><li>3 项目经理：搭建设计仓库，创建master分支，以及dev分支（以及 debug分支等）</li><li>4 所有的程序员在 dev分支 上进行开发，并且还有自己维护的分支</li><li>5 程序员在分支上完成开发任务后，会提交合并请求</li><li>6 项目经理安排测试，如果没有问题了，最后才会与 master 分支合并</li></ul><h2 id="2-github基本使用"><a href="#2-github基本使用" class="headerlink" title="2. github基本使用"></a>2. github基本使用</h2><ul><li><a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a></li><li>github是一个GIT服务的提供商，</li><li>提出社交化编程</li></ul><p><a href="http://zoomzhao.github.io/code-guide/" target="_blank" rel="noopener">http://zoomzhao.github.io/code-guide/</a><br><a href="https://github.com/jobbole/awesome-javascript-cn" target="_blank" rel="noopener">https://github.com/jobbole/awesome-javascript-cn</a><br><a href="https://github.com/jobbole/awesome-css-cn" target="_blank" rel="noopener">https://github.com/jobbole/awesome-css-cn</a></p><ul><li>开源中国-Git<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在 GitHub 上免费托管的 Git 仓库，</span><br><span class="line">任何人都可以看到喔（但只有你自己才能改）。</span><br><span class="line">所以，不要把敏感信息放进去。</span><br></pre></td></tr></table></figure></li></ul><h3 id="github与git的关系"><a href="#github与git的关系" class="headerlink" title="github与git的关系"></a>github与git的关系</h3><ul><li>1 git 是一个版本控制工具</li><li>2 github就是一个网站，这个网站提供了 git 服务器的功能</li></ul><h3 id="将代码提交到远程仓库（HTTPS）"><a href="#将代码提交到远程仓库（HTTPS）" class="headerlink" title="将代码提交到远程仓库（HTTPS）"></a>将代码提交到远程仓库（HTTPS）</h3><ul><li>1 在本地创建仓库<ul><li>git init</li><li>git config</li></ul></li><li>2 新建 README.md 文件，并输入任意内容</li><li>3 将 README.md 提交到本地<ul><li>git add</li><li>git commit</li></ul></li><li>4 在github中新建仓库，并拿到仓库地址</li><li>5 使用命令 git push [仓库地址] master 提交内容到github的默认分支</li><li>6 刷新github仓库页面，在线修改 README.md 文件，并提交</li><li>7 使用命令 git pull [仓库地址] master 获取仓库中的最新内容</li></ul><h3 id="获取远程仓库内容"><a href="#获取远程仓库内容" class="headerlink" title="获取远程仓库内容"></a>获取远程仓库内容</h3><ul><li>命令：git pull [仓库地址] [分支名称] 获取远程仓库最新内容</li><li>命令：git clone [仓库地址] [自定义本地仓库名] 将整个仓库克隆到本地<ul><li>实例：git clone git://github.com/jquery/jquery.git myJQ</li></ul></li></ul><h3 id="简化操作"><a href="#简化操作" class="headerlink" title="简化操作"></a>简化操作</h3><ul><li>1 git remote add origin [仓库地址]<ul><li>作用：使用origin代替 仓库地址 ，方便操作</li></ul></li><li>2 git push -u origin master<ul><li>作用：-u参数将origin与master连在一起</li></ul></li><li>3 使用简化命令 git push origin 就代替原来：”git remote add origin [仓库地址]”</li></ul><h3 id="SSH介绍"><a href="#SSH介绍" class="headerlink" title="SSH介绍"></a>SSH介绍</h3><ul><li>非对称加密、公钥和私钥<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">GitHub 需要识别出你推送的提交确实是你推送的，而不是别人冒充的，</span><br><span class="line">而 Git 支持 SSH 协议，所以，GitHub 只要知道了你的公钥，</span><br><span class="line">就可以确认只有你自己才能推送，从而省去每次输入密码的操作。</span><br><span class="line"></span><br><span class="line">可以同时设置多个SSH key，比如：你可以在公司电脑提交需要一个key，</span><br><span class="line">回家后自己的电脑提交也需要一个key</span><br><span class="line"></span><br><span class="line">ssh是一种安全的传输模式</span><br><span class="line">github要求推送代码的用户是合法的，所以每次推送时候都要输入账号密码，</span><br><span class="line">用以验证你是否为合法用户，为了省去每次都要输入密码的步骤，采用shh公钥，密钥</span><br><span class="line">也就是你说的sshkey来验证你是否为合法用户</span><br><span class="line">在你的电脑生成了一个唯一的ssh公钥和私钥，公钥放到github上面，当你推送的时候，git就会</span><br><span class="line">匹配你的私钥是否跟github上面的公钥是配对的，正确就认为你是合法的，允许推送。</span><br><span class="line"></span><br><span class="line">sshkey可以理解为是你的身份标识，放在github上面表明你是这个项目的一个开发人员，但是别</span><br><span class="line">人是可以截获的，你本机的私钥别人就无法截获，sshkey就可以保证每次传输都是安全的。</span><br></pre></td></tr></table></figure></li></ul><h3 id="将代码提交到远程仓库（SSH）"><a href="#将代码提交到远程仓库（SSH）" class="headerlink" title="将代码提交到远程仓库（SSH）"></a>将代码提交到远程仓库（SSH）</h3><ul><li>创建SSH Key：ssh-keygen -t rsa</li><li>在文件路径 C:\用户\当前用户名\ 找到 .ssh 文件夹</li><li>文件夹中有两个文件：<ul><li>私钥：id_rsa</li><li>公钥：id_rsa.pub</li></ul></li><li>在 github -&gt; settings -&gt; SSH and GPG keys页面中，新创建SSH key</li><li>粘贴 公钥 id_rsa.pub 内容到对应文本框中</li><li>在github中新建仓库或者使用现在仓库，拿到<a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:用户名/仓库名.git</li><li>此后，再次SSH方式与github“通信”，不用输入密码确认身份了</li></ul><h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><ul><li>先获取再提交，即：先pull再push</li><li>pull和fetch的区别</li></ul><h2 id="github搭建博客"><a href="#github搭建博客" class="headerlink" title="github搭建博客"></a>github搭建博客</h2><ul><li>使用github服务器的 gh-pages 分支<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1 在本地工作目录使用git初始化 `git init`</span><br><span class="line">2 创建自己的博客项目</span><br><span class="line">3 将创建好的博客添加到暂存区 `git add [文件路径]`</span><br><span class="line">4 本地提交： `git commit -m &quot;第一个博客&quot;`</span><br><span class="line">5 创建分支：`git branch gh-pages` 分支名称固定！</span><br><span class="line">6 切换分支：`git checkout gh-pages`</span><br><span class="line">7 提交到github：`git push [github仓库地址] gh-pages`</span><br><span class="line">8 查看github中对应的仓库中，是不是提交到了 &quot;gh-pages&quot; 分支</span><br><span class="line">9 访问：&lt;github用户名&gt;.github.io/&lt;仓库名&gt;/&lt;文件名&gt;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;什么是源代码管理工具&quot;&gt;&lt;a href=&quot;#什么是源代码管理工具&quot; class=&quot;headerlink&quot; title=&quot;什么是源代码管理工具&quot;&gt;&lt;/a&gt;什么是源代码管理工具&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;1. 早期源代码通过拷贝粘贴来管理
    1. 不方便相互
      
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/categories/git/"/>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>mongodb</title>
    <link href="http://yoursite.com/2017/07/17/mongoose%E4%BD%BF%E7%94%A8%E5%AE%8C%E6%95%B4%E6%B5%81%E7%A8%8B/"/>
    <id>http://yoursite.com/2017/07/17/mongoose使用完整流程/</id>
    <published>2017-07-17T12:19:40.000Z</published>
    <updated>2018-04-06T12:20:04.317Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-什么是mongodb"><a href="#1-什么是mongodb" class="headerlink" title="1. 什么是mongodb"></a>1. 什么是mongodb</h2><h3 id="1-1-mongodb是一种非关系型数据库"><a href="#1-1-mongodb是一种非关系型数据库" class="headerlink" title="1.1 mongodb是一种非关系型数据库"></a>1.1 mongodb是一种非关系型数据库</h3><p>特点：</p><ul><li>免费</li><li>分布式</li><li>高并发</li></ul><h2 id="2-搭建mongodb环境"><a href="#2-搭建mongodb环境" class="headerlink" title="2. 搭建mongodb环境"></a>2. 搭建mongodb环境</h2><h4 id="第一环节：开启mongodb服务"><a href="#第一环节：开启mongodb服务" class="headerlink" title="第一环节：开启mongodb服务"></a>第一环节：开启mongodb服务</h4><ul><li>1.下载安装：mongodb安装包</li><li>2.开启mongodb服务<ul><li>打开终端，进入安装包目录</li><li>在终端输入:<code>mongod</code>开启数据库服务</li></ul></li><li>3.默认情况下开启数据库服务会报错：<code>exception in initAndListen: 29 Data directory C:\data\db\ not found., terminating</code><ul><li>原因：没有指定数据库存储路径</li><li>默认情况下mongodb会将数据库文件保存在安装包的磁盘根目录：例如:<code>C:\data\db\</code></li></ul></li><li>4.手动在你的mongodb安装包的磁盘根目录（默认是C盘），创建<code>data/db</code>文件夹</li><li>5.创建完<code>C:\data\db</code>之后，重复步骤2，如果终端出现<code>waiting for connections on port 27017</code>表示配置成功<ul><li><strong><em>此时这个终端窗口就相当于mongodb软件，不能关闭，一旦关闭数据库无法使用</em></strong></li></ul></li></ul><h4 id="第二个环节：连接mongodb服务，相当于开启excel软件"><a href="#第二个环节：连接mongodb服务，相当于开启excel软件" class="headerlink" title="第二个环节：连接mongodb服务，相当于开启excel软件"></a>第二个环节：连接mongodb服务，相当于开启excel软件</h4><ul><li><strong><em>细节：连接mongodb服务的前提是已经开启了服务</em></strong></li><li>Robomongo：可视化数据库操作工具，mongodb专用的</li><li>1.安装robo3t</li><li>2.打开之后点击create创建一个链接：默认mongodb的端口是27017无需修改</li><li>3.选择连接刚刚创建的链接</li></ul><h2 id="3-mongodb存储数据结构"><a href="#3-mongodb存储数据结构" class="headerlink" title="3.mongodb存储数据结构"></a>3.mongodb存储数据结构</h2><ul><li>1.数据库服务：关系型：excel软件  非关系型：mongod mongosse:<ul><li>一个数据库服务可以有很多个数据库</li><li>2.数据库：database  关系型：一个excel文件 非关系型：database mongoose：database<ul><li>一个数据库下可以有很多张表</li><li>3.表：table  关系型：表格table  非关系型：集合collections  mongoose：model<ul><li>列：cloum 确定表的存储数据结构 mongoose:schema</li><li>4.一个表中可以有很多行：关系型：记录、行  非关系型：文档（Documents）  mongoose:实体entity</li></ul></li></ul></li></ul></li></ul><h2 id="4-数据增删改查"><a href="#4-数据增删改查" class="headerlink" title="4.数据增删改查"></a>4.数据增删改查</h2><h3 id="mongoose介绍-第三方模块"><a href="#mongoose介绍-第三方模块" class="headerlink" title="mongoose介绍:第三方模块"></a>mongoose介绍:第三方模块</h3><ul><li>特点：1.异步环境（与nodejs高性能不谋而合）<ul><li>2.基于ORM（object relational Mapping）技术：对象关系映射技术(以面向对象的思维操作数据库)<ul><li>说人话：通过操作对象来操作数据库（看不到sql语句，看不到数据库操作，增删改查已经变成一个对象的四个方法API）</li></ul></li></ul></li></ul><ul><li><p>mongodb，mongod，robomongo,mongoose三者之前的关系与区别</p><ul><li><p>mongodb：数据库的名字</p></li><li><p>mongod：数据库服务，要想使用数据库必须要开启服务</p></li><li><p>robomongo:数据库的客户端（有界面，使用鼠标来操作数据库的增删改查）</p></li><li><p>mongoose：数据库的客户端（无界面，使用代码来操作数据库的增删改查）</p></li></ul></li></ul><h2 id="5-mongoose使用完整流程"><a href="#5-mongoose使用完整流程" class="headerlink" title="5. mongoose使用完整流程"></a>5. mongoose使用完整流程</h2><ul><li>1.导入mongoose：<code>var mongoose = require(&#39;mongoose&#39;)</code></li><li>2.连接数据库:<code>mongoose.connect(&#39;mongodb://localhost/数据库名字&#39;)</code></li><li>3.创建Schema：<code>var schema = mongoose.Schema({属性名：数据类型})</code><ul><li>（1）确定数据库数据结构</li><li>（2）创建model</li></ul></li><li>4.创建Model:<code>var model = mongoose.model(模型名字,schema)</code><ul><li>第一个参数：要创建的model名（集合collections名字）<ul><li>mongoose默认会将首字母小写</li><li>会以复数的形式</li></ul></li><li>第二个参数<ul><li>schema</li></ul></li></ul></li><li>5.创建Entity：<code>var entity = new model({属性名：值})</code></li><li><p>6.增删改查</p></li><li><p>6.mongoose实现增删改查</p><ul><li>增加：create()</li><li>查询：find()、findOne()、findById()</li><li>修改：update()、updateMany()</li><li>删除：deleteOne()、deleteMany()</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-什么是mongodb&quot;&gt;&lt;a href=&quot;#1-什么是mongodb&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是mongodb&quot;&gt;&lt;/a&gt;1. 什么是mongodb&lt;/h2&gt;&lt;h3 id=&quot;1-1-mongodb是一种非关系型数据库&quot;&gt;
      
    
    </summary>
    
      <category term="mongodb" scheme="http://yoursite.com/categories/mongodb/"/>
    
    
      <category term="数据库" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>相对长度单位</title>
    <link href="http://yoursite.com/2017/07/03/%E7%9B%B8%E5%AF%B9%E9%95%BF%E5%BA%A6%E5%8D%95%E4%BD%8D/"/>
    <id>http://yoursite.com/2017/07/03/相对长度单位/</id>
    <published>2017-07-03T11:01:41.000Z</published>
    <updated>2018-03-13T11:32:59.045Z</updated>
    
    <content type="html"><![CDATA[<h1 id="相对长度单位"><a href="#相对长度单位" class="headerlink" title="相对长度单位"></a>相对长度单位</h1><blockquote><p>在移动开发过程中，因为手机的屏幕尺寸比较多， 如果使用绝对长度单位， 那么在不同的手机尺寸下面，显示的比例可能不一样。</p></blockquote><h2 id="相对长度单位说明"><a href="#相对长度单位说明" class="headerlink" title="相对长度单位说明"></a>相对长度单位说明</h2><ul><li>在css中有两个相对长度单位， em， rem。 我们可以把它理解成屏幕宽度的 一份。 </li><li>1份默认的宽度是16px，也就是浏览器器的默认显示字体， 如果说直接使用16px. 是不行的， 假如说，在ipone7上和iphone7plus上，有一个元素，都占了五份。 相当于两个屏幕上都创建一个 5*16px的宽度的元素。所以，我们要根据不同的手机宽度，来设置每一份到底点多大的宽度。 </li></ul><h2 id="设置相对长度单位，也就是一份的大小"><a href="#设置相对长度单位，也就是一份的大小" class="headerlink" title="设置相对长度单位，也就是一份的大小"></a>设置相对长度单位，也就是一份的大小</h2><ul><li>先把屏幕的宽度拿到，分成10份， 把每一份的宽度设为 html 的 font-size 的大小，那么 1份=html.fontsize = 1em, 1rem<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    //把屏幕分成10份</span><br><span class="line">    var screenw = window.screen.width;</span><br><span class="line">    document.querySelector(&quot;html&quot;).style.fontSize = screenw / 10 + &quot;px&quot;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>这段js代码要写在最上面</p></blockquote><h2 id="到底是使用rem还是em？"><a href="#到底是使用rem还是em？" class="headerlink" title="到底是使用rem还是em？"></a>到底是使用rem还是em？</h2><ul><li>rem永远是html的font-size的大小作为一份的大小；em是以父元素的font-size的大小作为一份的大小。 我们那建议为了减少计算量，直接使用 rem</li><li>rem和em都是相对长度单位<ul><li>rem是相对于根元素的font-size来算出每一份的宽度</li><li>em是相对于父元素的font-size的大小算出每一份的宽度</li></ul></li></ul><h2 id="如何使用rem"><a href="#如何使用rem" class="headerlink" title="如何使用rem"></a>如何使用rem</h2><ol><li>设计人员会给我们一种尺寸的设计图</li><li>它是用 px 来标记的</li><li>一般给的是高清图（以设备的分辨率作为宽高，而不是以css宽度），我们需要把它转成 css 宽度 （640 / 2 = 320）<ul><li>除了二倍图之外，也可能给3倍图， 如果3倍图，就要除以3</li></ul></li><li>算出每个 px 在设计人员给的这个屏幕尺寸下的 rem的值。转rem的规则都是一样的<ol><li>算出在当前屏幕尺寸下的 1rem值是多少。 320 / 10 = 32px</li><li>假如说，它标记了某个字体是 24px 对应我们在开发中要用的 那个值是 rem = 24px/32px</li></ol></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;相对长度单位&quot;&gt;&lt;a href=&quot;#相对长度单位&quot; class=&quot;headerlink&quot; title=&quot;相对长度单位&quot;&gt;&lt;/a&gt;相对长度单位&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;在移动开发过程中，因为手机的屏幕尺寸比较多， 如果使用绝对长度单位， 那么在不同的
      
    
    </summary>
    
      <category term="css" scheme="http://yoursite.com/categories/css/"/>
    
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>jQuery选择器</title>
    <link href="http://yoursite.com/2017/06/21/jQuery%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    <id>http://yoursite.com/2017/06/21/jQuery选择器/</id>
    <published>2017-06-21T12:23:22.000Z</published>
    <updated>2018-03-12T03:01:54.005Z</updated>
    
    <content type="html"><![CDATA[<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>jQuery选择器是jQuery为我们提供的一组方法，让我们更加方便的获取到页面中的元素。注意：jQuery选择器返回的是jQuery对象。</p><p>jQuery选择器有很多，基本兼容了CSS1到CSS3所有的选择器，并且jQuery还添加了很多更加复杂的选择器。（查看jQuery文档）</p><p>jQuery选择器虽然很多，但是选择器之间可以相互替代，就是说获取一个元素，你会有很多种方法获取到。所以我们平时真正能用到的只是少数的最常用的选择器。</p><h3 id="jQuery基本选择器"><a href="#jQuery基本选择器" class="headerlink" title="jQuery基本选择器"></a>jQuery基本选择器</h3><table><thead><tr><th>名称</th><th>用法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>ID选择器</td><td>$(‘#id’);</td><td style="text-align:left">获取指定ID的元素</td></tr><tr><td>类选择器</td><td>$(‘.class’);</td><td style="text-align:left">获取同一类class的元素</td></tr><tr><td>标签选择器</td><td>$(‘div’);</td><td style="text-align:left">获取同一类标签的所有元素</td></tr><tr><td>并集选择器</td><td>$(‘div,p,li’);</td><td style="text-align:left">使用逗号分隔，只要符合条件之一就可。</td></tr><tr><td>交集选择器</td><td>$(‘div.redClass’);</td><td style="text-align:left">获取class为redClass的div元素</td></tr></tbody></table><ul><li>总结：跟css的选择器用法一模一样。</li></ul><h3 id="jQuery层级选择器"><a href="#jQuery层级选择器" class="headerlink" title="jQuery层级选择器"></a>jQuery层级选择器</h3><table><thead><tr><th>名称</th><th>用法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>子代选择器</td><td>$(‘ul &gt; li’);</td><td style="text-align:left">使用-号，获取儿子层级的元素，注意，并不会获取孙子层级的元素</td></tr><tr><td>后代选择器</td><td>$(‘ul li’);</td><td style="text-align:left">使用空格，代表后代选择器，获取ul下的所有li元素，包括孙子等</td></tr></tbody></table><ul><li>跟CSS的选择器一模一样。</li></ul><h3 id="jQuery过滤选择器"><a href="#jQuery过滤选择器" class="headerlink" title="jQuery过滤选择器"></a>jQuery过滤选择器</h3><ul><li>这类选择器都带冒号:</li></ul><table><thead><tr><th>名称</th><th>用法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>:eq（index）</td><td>$(‘li:eq(2)’).css(‘color’, ‘red’);</td><td style="text-align:left">获取到的li元素中，选择索引号为2的元素，索引号index从0开始。</td></tr><tr><td>:odd</td><td>$(‘li:odd’).css(‘color’, ‘red’);</td><td style="text-align:left">获取到的li元素中，选择索引号为奇数的元素</td></tr><tr><td>:even</td><td>$(‘li:even’).css(‘color’, ‘red’);</td><td style="text-align:left">获取到的li元素中，选择索引号为偶数的元素</td></tr></tbody></table><h3 id="jQuery筛选选择器-方法"><a href="#jQuery筛选选择器-方法" class="headerlink" title="jQuery筛选选择器(方法)"></a>jQuery筛选选择器(方法)</h3><ul><li>筛选选择器的功能与过滤选择器有点类似，但是用法不一样，筛选选择器主要是方法。</li></ul><table><thead><tr><th>名称</th><th>用法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>children(selector)</td><td>$(‘ul’).children(‘li’)</td><td style="text-align:left">相当于$(‘ul-li’)，子类选择器</td></tr><tr><td>find(selector)</td><td>$(‘ul’).find(‘li’);</td><td style="text-align:left">相当于$(‘ul li’),后代选择器</td></tr><tr><td>siblings(selector)</td><td>$(‘#first’).siblings(‘li’);</td><td style="text-align:left">查找兄弟节点，不包括自己本身。</td></tr><tr><td>parent()</td><td>$(‘#first’).parent();</td><td style="text-align:left">查找父亲</td></tr><tr><td>eq(index)</td><td>$(‘li’).eq(2);</td><td style="text-align:left">相当于$(‘li:eq(2)’),index从0开始</td></tr><tr><td>next()</td><td>$(‘li’).next()</td><td style="text-align:left">找下一个兄弟</td></tr><tr><td>prev()</td><td>$(‘li’).prev()</td><td style="text-align:left">找上一次兄弟</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;选择器&quot;&gt;&lt;a href=&quot;#选择器&quot; class=&quot;headerlink&quot; title=&quot;选择器&quot;&gt;&lt;/a&gt;选择器&lt;/h2&gt;&lt;p&gt;jQuery选择器是jQuery为我们提供的一组方法，让我们更加方便的获取到页面中的元素。注意：jQuery选择器返回的是jQuer
      
    
    </summary>
    
      <category term="jQuery" scheme="http://yoursite.com/categories/jQuery/"/>
    
    
      <category term="jQuery选择器" scheme="http://yoursite.com/tags/jQuery%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>js贪吃蛇</title>
    <link href="http://yoursite.com/2017/05/28/%E7%AE%80%E6%98%93%E8%B4%AA%E5%90%83%E8%9B%87/"/>
    <id>http://yoursite.com/2017/05/28/简易贪吃蛇/</id>
    <published>2017-05-28T04:54:05.000Z</published>
    <updated>2018-03-08T03:47:56.294Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简易贪吃蛇"><a href="#简易贪吃蛇" class="headerlink" title="简易贪吃蛇"></a>简易贪吃蛇</h2><h3 id="项目分析"><a href="#项目分析" class="headerlink" title="项目分析"></a>项目分析</h3><ul><li><blockquote><p>原理：我只要找一个对象，当我调用它开始游戏的方法，那么游戏就开始了。但是现在没有这样的对象，所以我们要封装这个对象，相当于是一个游戏管家。</p></blockquote></li></ul><h3 id="确定开发步骤"><a href="#确定开发步骤" class="headerlink" title="确定开发步骤"></a>确定开发步骤</h3><ol><li>写一个div到body里，当地图，设置样式宽和高、背景颜色、相对定位</li><li>创建食物</li><li>创建蛇</li><li>把食物和蛇单独封装到各自的一个文件</li><li>创建一个游戏管家类</li><li>用户按上下左右让蛇跟着动</li><li>判断越界</li><li>判断吃食物</li></ol><h3 id="创建地图模板"><a href="#创建地图模板" class="headerlink" title="创建地图模板"></a>创建地图模板</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        #map &#123;</span><br><span class="line">            width: 600px;</span><br><span class="line">            height: 600px;</span><br><span class="line">            background-color: #cccccc;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;map&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=&quot;food.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;snake.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;Game.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">//找到地图</span><br><span class="line">var map = document.getElementById(&quot;map&quot;);</span><br><span class="line"></span><br><span class="line">//实例化游戏管家对象</span><br><span class="line">var gm = new Game();</span><br><span class="line"></span><br><span class="line">gm.startGame(map);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="创建食物"><a href="#创建食物" class="headerlink" title="创建食物"></a>创建食物</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">function Food(x, y, w, h, color) &#123;</span><br><span class="line"></span><br><span class="line">    this.x = x || 0;</span><br><span class="line">    this.y = y || 0;</span><br><span class="line">    this.width = w || 20;</span><br><span class="line">    this.height = h || 20;</span><br><span class="line">    this.color = color || &quot;green&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var lastFood;</span><br><span class="line"></span><br><span class="line">//把食物渲染出来</span><br><span class="line">Food.prototype.render = function (map) &#123;</span><br><span class="line"></span><br><span class="line">if (lastFood) &#123;</span><br><span class="line"></span><br><span class="line">    //先把上一次的食物清掉</span><br><span class="line">    map.removeChild(lastFood);</span><br><span class="line">&#125;</span><br><span class="line">    //用地图的宽除以食物的宽得到最大可以放多少列</span><br><span class="line">    var col = map.offsetWidth / this.width;</span><br><span class="line">    this.x = Math.floor((Math.random() * col)) * this.width;</span><br><span class="line">    var row = map.offsetHeight / this.height;</span><br><span class="line">    this.y = Math.floor(Math.random() * row) * this.height;</span><br><span class="line">    </span><br><span class="line">    //创建div</span><br><span class="line">    var div = document.createElement(&quot;div&quot;);</span><br><span class="line">    div.style.position = &quot;absolute&quot;;</span><br><span class="line">    div.style.left = this.x + &quot;px&quot;;</span><br><span class="line">    div.style.top = this.y + &quot;px&quot;;</span><br><span class="line">    div.style.width = this.width + &quot;px&quot;;</span><br><span class="line">    div.style.height = this.height + &quot;px&quot;;</span><br><span class="line">    div.style.backgroundColor = this.color;</span><br><span class="line">    </span><br><span class="line">    lastFood = div;</span><br><span class="line">    </span><br><span class="line">    map.appendChild(div);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="创建蛇对象"><a href="#创建蛇对象" class="headerlink" title="创建蛇对象"></a>创建蛇对象</h3><pre><code>//保存上一次渲染生成的divvar list = [];//因为蛇是对象，所以给它一个构造函数function Snake(bodyW, bodyH, direction) {    //宽和高，只要用一个属性保存    this.bodyW = bodyW || 20;    this.bodyH = bodyH || 20;    //这里可以设置蛇默认的方向    this.direction = direction || &quot;right&quot;;    //蛇有身体，身体由数组组成（因为默认有3节身体，后面吃了食物还要能长身体（相当于给数组加一个元素））    this.body = [        {x: 3, y: 1, color: &quot;red&quot;},        {x: 2, y: 1, color: &quot;seagreen&quot;},        {x: 1, y: 1, color: &quot;seagreen&quot;},    ];}Snake.prototype.render = function (map) {    //先删除上一次渲染出来的div    for (var i = 0; i &lt; list.length; i++) {        map.removeChild(list[i]);    }    //内存中也要把这些div清楚掉    list = [];    //body里有多少个元素，就创建多少个div    for (var i = 0; i &lt; this.body.length; i++) {        var div = document.createElement(&quot;div&quot;);        div.style.position = &quot;absolute&quot;;        div.style.left = this.body[i].x * this.bodyW + &quot;px&quot;;        div.style.top = this.body[i].y * this.bodyH + &quot;px&quot;;        div.style.width = this.bodyW + &quot;px&quot;;        div.style.height = this.bodyH + &quot;px&quot;;        div.style.backgroundColor = this.body[i].color;        //把每次创建的div保存起来        list.push(div);        map.appendChild(div);    }}//移动是蛇的行为，所以给蛇对象加一个移动的方法Snake.prototype.move = function () {    //蛇身体移动，它前一个位置是多少，它就移动到多少    //从后到前遍历会更好，因为这样的话前一个身体还没动过位置可以拿到这个位置    //注意：不要包括0，因为0是蛇头，而蛇头没有前一个身体，是要单独根据方向来定    for (var i = this.body.length - 1; i &gt; 0; i--) {        this.body[i].x = this.body[i - 1].x;        this.body[i].y = this.body[i - 1].y;    }    //蛇头移动根据方向来    switch (this.direction) {        case &quot;up&quot;:            this.body[0].y--;            break;        case &quot;down&quot;:            this.body[0].y++;            break;        case &quot;left&quot;:            this.body[0].x--;            break;        case &quot;right&quot;:            this.body[0].x++;            break;    }}</code></pre><h3 id="创建一个游戏管家类"><a href="#创建一个游戏管家类" class="headerlink" title="创建一个游戏管家类"></a>创建一个游戏管家类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">var that;</span><br><span class="line">function Game() &#123;</span><br><span class="line"></span><br><span class="line">    //把游戏管理者对象保存起来，保存在that</span><br><span class="line">    that = this;</span><br><span class="line"></span><br><span class="line">    //管理蛇对象</span><br><span class="line">    this.snake = new Snake();</span><br><span class="line"></span><br><span class="line">    //管理食物对象</span><br><span class="line">    this.food = new Food();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bindKey() &#123;</span><br><span class="line"></span><br><span class="line">    //document.onkeypress;//不包括功能键</span><br><span class="line"></span><br><span class="line">    document.onkeydown = function (e) &#123;</span><br><span class="line"></span><br><span class="line">        e = e || window.event;</span><br><span class="line"></span><br><span class="line">        var code = e.keyCode || e.charCode || e.which;</span><br><span class="line">        //37左 38上 39右 40下</span><br><span class="line"></span><br><span class="line">        switch (code) &#123;</span><br><span class="line"></span><br><span class="line">            case 37:</span><br><span class="line">                if (that.snake.direction != &quot;right&quot;)</span><br><span class="line">                    that.snake.direction = &quot;left&quot;;</span><br><span class="line">                break;</span><br><span class="line">            case 38:</span><br><span class="line">                if (that.snake.direction != &quot;down&quot;)</span><br><span class="line">                    that.snake.direction = &quot;up&quot;;</span><br><span class="line">                break;</span><br><span class="line"></span><br><span class="line">            case 39:</span><br><span class="line">                if (that.snake.direction != &quot;left&quot;)</span><br><span class="line">                    that.snake.direction = &quot;right&quot;;</span><br><span class="line">                break;</span><br><span class="line"></span><br><span class="line">            case 40:</span><br><span class="line">                if (that.snake.direction != &quot;up&quot;)</span><br><span class="line">                    that.snake.direction = &quot;down&quot;;</span><br><span class="line">                break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//开始游戏</span><br><span class="line">Game.prototype.startGame = function (map) &#123;</span><br><span class="line"></span><br><span class="line">    //开始游戏时就需要监听网页用户按下的键</span><br><span class="line">    bindKey();</span><br><span class="line"></span><br><span class="line">    //要把食物画出来</span><br><span class="line">    this.food.render(map);</span><br><span class="line"></span><br><span class="line">    //把蛇画出来</span><br><span class="line">    this.snake.render(map);</span><br><span class="line"></span><br><span class="line">    //蛇自己自动</span><br><span class="line">    autoMove();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function autoMove() &#123;</span><br><span class="line"></span><br><span class="line">    var timerID = setInterval(function () &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //保存移动之前最后一格的身体坐标（为了如果移动后吃到食物了，这个坐标就给新添加的身体）</span><br><span class="line">        var oldX = that.snake.body[that.snake.body.length - 1].x;</span><br><span class="line">        var oldY = that.snake.body[that.snake.body.length - 1].y;</span><br><span class="line"></span><br><span class="line">        //让蛇自己动</span><br><span class="line">        that.snake.move();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //判断是否越界</span><br><span class="line">        //如果水平方向一行只能放20个，意味着蛇头的x如果大于等于20就越界</span><br><span class="line">        var maxCol = map.offsetWidth / that.snake.bodyW;</span><br><span class="line">        var maxRow = map.offsetHeight / that.snake.bodyH;</span><br><span class="line">        var head = that.snake.body[0];</span><br><span class="line">        if (head.x &gt;= maxCol || head.x &lt; 0 || head.y &lt; 0 || head.y &gt;= maxRow) &#123;</span><br><span class="line"></span><br><span class="line">            alert(&quot;Game Over!&quot;);</span><br><span class="line"></span><br><span class="line">            clearInterval(timerID);</span><br><span class="line"></span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //判断有没有吃到食物：思路：蛇头的坐标如果和食物的坐标重合就代表吃到了</span><br><span class="line">        //先计算出蛇头真正left值</span><br><span class="line">        var x = head.x * that.snake.bodyW;</span><br><span class="line">        //再计算蛇头真正的top值</span><br><span class="line">        var y = head.y * that.snake.bodyH;</span><br><span class="line">        //判断是否迟到食物</span><br><span class="line">        if (x == that.food.x &amp;&amp; y == that.food.y) &#123;</span><br><span class="line"></span><br><span class="line">            //让蛇加一节身体</span><br><span class="line">            that.snake.body.push(</span><br><span class="line">                &#123;x: oldX, y: oldY, color: &quot;seagreen&quot;&#125;</span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">            //让食物重新生成（渲染）它内部每次渲染之前都清除原来的了</span><br><span class="line">            that.food.render(map);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //让你根据最新位置渲染</span><br><span class="line">        that.snake.render(map);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;, 180);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;简易贪吃蛇&quot;&gt;&lt;a href=&quot;#简易贪吃蛇&quot; class=&quot;headerlink&quot; title=&quot;简易贪吃蛇&quot;&gt;&lt;/a&gt;简易贪吃蛇&lt;/h2&gt;&lt;h3 id=&quot;项目分析&quot;&gt;&lt;a href=&quot;#项目分析&quot; class=&quot;headerlink&quot; title=&quot;项目分析&quot;
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>sass 高级语法补充</title>
    <link href="http://yoursite.com/2017/04/17/Sass%E9%AB%98%E7%BA%A7%E8%AF%AD%E6%B3%95/"/>
    <id>http://yoursite.com/2017/04/17/Sass高级语法/</id>
    <published>2017-04-17T11:16:27.000Z</published>
    <updated>2018-03-13T11:17:10.964Z</updated>
    
    <content type="html"><![CDATA[<h2 id="sass-高级语法补充"><a href="#sass-高级语法补充" class="headerlink" title="sass 高级语法补充"></a>sass 高级语法补充</h2><h3 id="1-继承"><a href="#1-继承" class="headerlink" title="1. 继承"></a>1. 继承</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="selector-class">.class1</span> &#123;</span><br><span class="line">　　　　<span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">　　&#125;</span><br><span class="line"></span><br><span class="line">　　<span class="selector-class">.class2</span> &#123;</span><br><span class="line">　　　　@extend .class1;</span><br><span class="line">　　　　<span class="selector-tag">font-size</span><span class="selector-pseudo">:120</span>%;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure><h3 id="2-混入"><a href="#2-混入" class="headerlink" title="2. 混入"></a>2. 混入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@mixin roundborder($myborder: 10px) &#123;</span><br><span class="line">    border-radius: $myborder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box &#123;</span><br><span class="line">    @include roundborder(25px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>//custom：自定义的，定制的<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@mixin customdiv ($sizew: 100px, $sizeh: 100px, $bgco: red, $bdr: 15px) &#123;</span><br><span class="line">    border-radius: $bdr;</span><br><span class="line">    width: $sizew;</span><br><span class="line">    height: $sizeh;</span><br><span class="line">    background-color: $bgco;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box1 &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    @extend .box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.little1 &#123;</span><br><span class="line">    @include customdiv(120px, 120px, tomato, 20px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.little2 &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    @include customdiv(80px*0.5, 80px+15px, skyblue, 10px);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="3-计算"><a href="#3-计算" class="headerlink" title="3. 计算"></a>3. 计算</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">　　body &#123;</span><br><span class="line">　　　　margin: (14px/2);</span><br><span class="line">　　　　top: 50px + 100px;</span><br><span class="line">　　　　right: $var * 10%;</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure><h3 id="4-函数"><a href="#4-函数" class="headerlink" title="4. 函数"></a>4. 函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　　@function double($n) &#123;</span><br><span class="line">　　　　@return $n * 2;</span><br><span class="line">　　&#125;</span><br><span class="line"></span><br><span class="line">　　#sidebar &#123;</span><br><span class="line">　　　　width: double(5px);</span><br><span class="line">　　&#125;</span><br></pre></td></tr></table></figure><h3 id="5-判断和循环"><a href="#5-判断和循环" class="headerlink" title="5. 判断和循环"></a>5. 判断和循环</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//1 to 8  大于等于1，小于8</span><br><span class="line">@<span class="keyword">for</span> $i from <span class="number">1</span> to <span class="number">8</span> &#123;</span><br><span class="line">    &amp;.slide0#&#123;$i&#125; &#123;</span><br><span class="line">        background: url("../images/02-head-icons/0#&#123;$i&#125;.jpg") no-repeat top left / 100% 100%;</span><br><span class="line"></span><br><span class="line">        @<span class="keyword">if</span> $i &gt; <span class="number">5</span> &#123;</span><br><span class="line">            <span class="selector-tag">border</span>: 3<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#000</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>#less</p><h3 id="1-less的安装与使用"><a href="#1-less的安装与使用" class="headerlink" title="1. less的安装与使用"></a>1. less的安装与使用</h3><pre><code>npm install -g less</code></pre><h3 id="2-变量"><a href="#2-变量" class="headerlink" title="2. 变量"></a>2. 变量</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@background-color: #ffffff;</span><br><span class="line">@text-color: #1A237E;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: @background-color;</span><br><span class="line">  <span class="attribute">color</span>: @text-color;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: @background-color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: @text-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-混入"><a href="#3-混入" class="headerlink" title="3. 混入"></a>3. 混入</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#circle&#123;</span><br><span class="line">  background-color: #4CAF50;</span><br><span class="line">  border-radius: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#small-circle&#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  #circle</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#big-circle&#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  #circle</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#circle</span>(<span class="variable">@size</span>: <span class="number">25px</span>)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#4CAF50</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">width</span>: <span class="variable">@size</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="variable">@size</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#small-circle</span>&#123;</span><br><span class="line">    <span class="selector-id">#circle</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#big-circle</span>&#123;</span><br><span class="line">    <span class="selector-id">#circle</span>(<span class="number">100px</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-嵌套"><a href="#4-嵌套" class="headerlink" title="4. 嵌套"></a>4. 嵌套</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#03A9F4</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line"></span><br><span class="line">    li&#123;</span><br><span class="line">        <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span><br><span class="line">        <span class="selector-tag">border-radius</span>: 3<span class="selector-tag">px</span>;</span><br><span class="line">        <span class="selector-tag">margin</span>: 10<span class="selector-tag">px</span> 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-运算"><a href="#5-运算" class="headerlink" title="5. 运算"></a>5. 运算</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@div-width: 100px;</span><br><span class="line">@color: #03A9F4;</span><br><span class="line"></span><br><span class="line">div&#123;</span><br><span class="line">    height: 50px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#left&#123;</span><br><span class="line">    width: @div-width;</span><br><span class="line">    background-color: @color - 100;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#right&#123;</span><br><span class="line">    width: @div-width * 2;</span><br><span class="line">    background-color: @color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-函数"><a href="#6-函数" class="headerlink" title="6. 函数"></a>6. 函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@var: #004590;</span><br><span class="line"></span><br><span class="line">div&#123;</span><br><span class="line">  height: 50px;</span><br><span class="line">  width: 50px;</span><br><span class="line">  background-color: @var;</span><br><span class="line"></span><br><span class="line">  &amp;:hover&#123;</span><br><span class="line">    background-color: fadeout(@var, 50%)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;sass-高级语法补充&quot;&gt;&lt;a href=&quot;#sass-高级语法补充&quot; class=&quot;headerlink&quot; title=&quot;sass 高级语法补充&quot;&gt;&lt;/a&gt;sass 高级语法补充&lt;/h2&gt;&lt;h3 id=&quot;1-继承&quot;&gt;&lt;a href=&quot;#1-继承&quot; class=&quot;
      
    
    </summary>
    
      <category term="sass" scheme="http://yoursite.com/categories/sass/"/>
    
    
      <category term="sass语法" scheme="http://yoursite.com/tags/sass%E8%AF%AD%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>懒加载的原理及使用</title>
    <link href="http://yoursite.com/2017/03/19/%E6%87%92%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2017/03/19/懒加载原理及使用/</id>
    <published>2017-03-19T13:43:15.000Z</published>
    <updated>2018-03-17T01:12:35.322Z</updated>
    
    <content type="html"><![CDATA[<h2 id="懒加载的原理及使用"><a href="#懒加载的原理及使用" class="headerlink" title="懒加载的原理及使用"></a>懒加载的原理及使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">把懒加载真正要加载的图片网址存在data-original=这个自定义属性里</span><br><span class="line">谁要懒加载，就用jQuery找到谁，并调用它的lazyload方法就可以了</span><br></pre></td></tr></table></figure><ol><li>不管图片隐藏还是显示  有src属性都会去加载</li><li>那么如果页面上有太多的图片  而且有些图片不在可视窗口内  如果加载了会影响页面的渲染页面时间</li><li>解决方案：自己控制图片的加载  当进入可视区域内容才去加载</li><li>怎么控制呢？ 通过控制src属性来控制图片加载 也就是说src先不给值，当滚到那张图片的显示区域时再加载</li><li>滚到以后再给它src的值，真正要显示图片的值</li><li>思路怎么样？ 首先默认所有的图片都不使用src属性，自定义一个属性存路径，当进入可视区域追加到src属性</li><li>使用插件  基于jquery的图片加载插件</li><li>jquery.lazyload.js  延时加载图片</li></ol><h3 id="插件的参数"><a href="#插件的参数" class="headerlink" title="插件的参数"></a>插件的参数</h3><ol><li>用图片提前占位</li></ol><p>placeholder : “img/grey.gif”,<br>参数:placeholder,值为某一图片路径.此图片用来占据将要加载的图片的位置,待图片加载时,占位图则会隐藏</p><ol><li>载入使用何种效果</li></ol><p>effect : “fadeIn”,<br>参数：effect(特效),值有show(直接显示),fadeIn(淡入),slideDown(下拉)等,常用fadeIn</p><ol><li>提前开始加载</li></ol><p>threshold : 200,<br>参数:threshold,值为数字,代表页面高度.如设置为200,表示滚动条在离目标位置还有200的高度时就开始加载图片,可以做到不让用户察觉.</p><ol><li>事件触发时才加载</li></ol><p>event : “click”,<br>参数:event,值有click(点击),mouseover(鼠标划过),sporty(运动的),foobar(…).可以实现鼠标莫过或点击图片才开始加载,后两个值未测试…</p><ol><li>对某容器中的图片实现效果</li></ol><p>container: $(”#container”),<br>参数:container,值为某容器.lazyload默认在拉动浏览器滚动条时生效,这个参数可以让你在拉动某DIV的滚动条时依次加载其中的图片</p><ol><li>图片排序混乱时</li></ol><p>failurelimit : 10,<br>参数:failurelimit,值为数字.lazyload默认在找到第一张不在可见区域里的图片时则不再继续加载,但当HTML容器混乱的时候可能出现可见区域内图片并没加载出来的情况,failurelimit意在加载N张可见区域外的图片,以避免出现这个问题.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;懒加载的原理及使用&quot;&gt;&lt;a href=&quot;#懒加载的原理及使用&quot; class=&quot;headerlink&quot; title=&quot;懒加载的原理及使用&quot;&gt;&lt;/a&gt;懒加载的原理及使用&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="懒加载" scheme="http://yoursite.com/tags/%E6%87%92%E5%8A%A0%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>Canvas小鸟游戏</title>
    <link href="http://yoursite.com/2017/02/08/%E7%AC%A8%E7%AC%A8%E7%9A%84%E5%B0%8F%E9%B8%9F/"/>
    <id>http://yoursite.com/2017/02/08/笨笨的小鸟/</id>
    <published>2017-02-08T13:54:05.000Z</published>
    <updated>2018-03-06T13:54:52.127Z</updated>
    
    <content type="html"><![CDATA[<h2 id="FlapyBird游戏实现"><a href="#FlapyBird游戏实现" class="headerlink" title="FlapyBird游戏实现"></a>FlapyBird游戏实现</h2><h3 id="项目需要分析"><a href="#项目需要分析" class="headerlink" title="项目需要分析"></a>项目需要分析</h3><ol><li>天空背景是连续水平滚动的</li><li>地面背景是连续水平滚动的</li><li>管道背景是连续水平滚动的，管道的高度随机，管道充当小鸟飞行的障碍物</li><li>小鸟总是在做自由落体运动，点击会给他一个向上的速度，小鸟飞行中在扇动翅膀，小鸟上飞和下落时仰角会发生变化</li><li>小鸟掉到地上，或者撞到柱子上，则游戏结束</li><li>需要在右上角显示游戏持续的时间</li></ol><h3 id="项目实现分析"><a href="#项目实现分析" class="headerlink" title="项目实现分析"></a>项目实现分析</h3><ul><li><blockquote><p>原理： 动画效果，其实就像是连环画， 每一帧，就相当于一张连环画。当播放连环画的速度极快，超过每秒24张每秒时，人的肉眼就会认会它是连续的动画效果。所有的视频播放原理都是这样的。</p></blockquote></li></ul><ol><li><p>愤怒的小鸟这个demo中，每一帧，就相当于连环画的单张画面，每一张画面上，拥有的元素都是一样的，比如小鸟、天空、地面、管道。</p></li><li><p>但是在每一张连环画上， 元素的位置不一样，当前帧的元素的状态和位置，在是上一帧的元素的状态和位置基础上重新计算的</p></li><li><p>我们可以先把画一张连环画的效果实现，现用一个系统动画，画面就会动起来了，每次执行动画时，就相当于是先把画布清空，画一张新的画面上去</p></li></ol><h3 id="确定开发步骤"><a href="#确定开发步骤" class="headerlink" title="确定开发步骤"></a>确定开发步骤</h3><ol><li>创建绘图模板</li><li>加载图片元素</li><li>天空背景实现</li><li>陆地背景实现</li><li>管道实现</li><li>小鸟实现</li><li>实现碰撞判断</li><li>时间统计实现</li></ol><h3 id="创建绘图模板"><a href="#创建绘图模板" class="headerlink" title="创建绘图模板"></a>创建绘图模板</h3><ol><li><p>代码很简单</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    #canvas &#123;</span></span><br><span class="line"><span class="undefined">        border: 1px solid #000;</span></span><br><span class="line"><span class="undefined">    &#125; </span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"600"</span> <span class="attr">id</span>=<span class="string">"canvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    var canvas = document.getElementById("canvas");</span></span><br><span class="line"><span class="undefined">    var ctx = canvas.getContext("2d");</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="加载图片元素"><a href="#加载图片元素" class="headerlink" title="加载图片元素"></a>加载图片元素</h3><ol><li><p>先用图片名，加载图片，并生成图片对象。所有的资源图片加载成功之后，才能运行游戏</p></li><li><p>代码</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImage</span>(<span class="params">imgNameList, callBack</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//所有图片对象</span></span><br><span class="line">    <span class="keyword">var</span> imageArr = &#123;&#125;;</span><br><span class="line">    <span class="comment">//计数，每加载完一张图片后，计数加1</span></span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//使用for循环加载所有图片</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; imgNameList.length; i++) &#123;</span><br><span class="line">        <span class="comment">//创建一张图片，并保存到图片数组对象中</span></span><br><span class="line">        <span class="keyword">var</span> image = <span class="keyword">new</span> Image();</span><br><span class="line">        image.src = <span class="string">"imgs/"</span> + imgNameList[i] + <span class="string">".png"</span>;</span><br><span class="line">        imageArr[imgNameList[i]] = image;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//当计数和imgNameList的长度一致时，代表所有图片都加载完成了</span></span><br><span class="line">        image.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">if</span> (count == imgNameList.length) &#123;</span><br><span class="line">                <span class="comment">//完成回调（加载完图片之后，要做的事情）</span></span><br><span class="line">                callBack(imageArr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="天空背景实现"><a href="#天空背景实现" class="headerlink" title="天空背景实现"></a>天空背景实现</h3><ul><li><p>天空，把两张天空拼在一起，不断修改这两张天空在画布的位置；当左边的天空滚出画布时，拼到第二张画布的后面重新画</p></li><li><p>代码</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sky</span> (<span class="params">drawInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.ctx = drawInfo.ctx;</span><br><span class="line">    <span class="keyword">this</span>.image = drawInfo.image;</span><br><span class="line">    <span class="keyword">this</span>.x = drawInfo.x;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Sky.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Sky,</span><br><span class="line">    draw: function () &#123;</span><br><span class="line">        <span class="comment">//绘制天空</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.drawImage(<span class="keyword">this</span>.image, <span class="keyword">this</span>.x, <span class="number">0</span>, <span class="keyword">this</span>.image.width, <span class="keyword">this</span>.image.height);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//移动坐标</span></span><br><span class="line">        <span class="keyword">this</span>.x -= <span class="keyword">this</span>.speed;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.x &lt; - <span class="keyword">this</span>.image.width) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x += <span class="number">2</span> * <span class="keyword">this</span>.image.width;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="陆地背景实现"><a href="#陆地背景实现" class="headerlink" title="陆地背景实现"></a>陆地背景实现</h3><ul><li>地面，和天空的原理是一样的，不同的是四张地面拼在一起</li><li>代码  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Land</span> (<span class="params">drawInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.ctx = drawInfo.ctx;</span><br><span class="line">    <span class="keyword">this</span>.image = drawInfo.image;</span><br><span class="line">    <span class="keyword">this</span>.x = drawInfo.x;</span><br><span class="line">    <span class="keyword">this</span>.y = drawInfo.y;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Land.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Land,</span><br><span class="line">    draw: function () &#123;</span><br><span class="line">        <span class="comment">//绘制天空</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.drawImage(<span class="keyword">this</span>.image, <span class="keyword">this</span>.x, <span class="keyword">this</span>.y, <span class="keyword">this</span>.image.width, <span class="keyword">this</span>.image.height);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//移动坐标</span></span><br><span class="line">        <span class="keyword">this</span>.x -= <span class="keyword">this</span>.speed;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.x &lt; - <span class="keyword">this</span>.image.width) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x += <span class="number">4</span> * <span class="keyword">this</span>.image.width;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="管道实现"><a href="#管道实现" class="headerlink" title="管道实现"></a>管道实现</h3><ul><li><p>管道，管道是六组拼在一起，不断调整它们的位置，需要注意的是　我们同时还要计算管道的垂直方向的位置，因为管道的高度是随机的</p></li><li><p>代码</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Pipe</span> (<span class="params">drawInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.ctx = drawInfo.ctx;</span><br><span class="line">    <span class="keyword">this</span>.topImage = drawInfo.topImage;</span><br><span class="line">    <span class="keyword">this</span>.bottomImage = drawInfo.bottomImage;</span><br><span class="line">    <span class="keyword">this</span>.x = drawInfo.x;</span><br><span class="line">    <span class="keyword">this</span>.bottom = drawInfo.bottom;</span><br><span class="line">    <span class="keyword">this</span>.space = drawInfo.space;</span><br><span class="line">    <span class="keyword">this</span>.gap = drawInfo.gap;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.canvasWidth = drawInfo.canvasWidth;</span><br><span class="line">    <span class="keyword">this</span>.canvasHeight = drawInfo.canvasHeight;</span><br><span class="line">    <span class="keyword">this</span>.topPipeHeight = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.bottomPipeHeight = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//先计算高度</span></span><br><span class="line">    <span class="keyword">this</span>.initHeight()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Pipe.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Pipe,</span><br><span class="line">    draw: function () &#123;</span><br><span class="line">        <span class="comment">//画上面的管道</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.drawImage(<span class="keyword">this</span>.topImage, <span class="keyword">this</span>.x, <span class="number">0</span>, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.topPipeHeight);</span><br><span class="line">        <span class="comment">//画下面的管道</span></span><br><span class="line">        <span class="keyword">this</span>.ctx.drawImage(<span class="keyword">this</span>.bottomImage, <span class="keyword">this</span>.x, <span class="keyword">this</span>.topPipeHeight + <span class="keyword">this</span>.space, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.bottomPipeHeight);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//画两个方形</span></span><br><span class="line">        ctx.rect(<span class="keyword">this</span>.x, <span class="number">0</span>, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.topPipeHeight);</span><br><span class="line">        ctx.rect(<span class="keyword">this</span>.x, <span class="keyword">this</span>.topPipeHeight + <span class="keyword">this</span>.space, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.bottomPipeHeight);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//移动坐标</span></span><br><span class="line">        <span class="keyword">this</span>.x -= <span class="keyword">this</span>.speed;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.x &lt; - <span class="keyword">this</span>.topImage.width) &#123;</span><br><span class="line">            <span class="keyword">this</span>.x = <span class="keyword">this</span>.canvasWidth - <span class="keyword">this</span>.topImage.width + <span class="keyword">this</span>.gap;</span><br><span class="line">            <span class="keyword">this</span>.initHeight();</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.topPipeHeight);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    initHeight: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//随机计算高度</span></span><br><span class="line">        <span class="keyword">this</span>.topPipeHeight = <span class="built_in">Math</span>.random() * <span class="number">200</span> + <span class="number">100</span>;</span><br><span class="line">        <span class="keyword">this</span>.bottomPipeHeight = <span class="keyword">this</span>.canvasHeight-<span class="keyword">this</span>.topPipeHeight-<span class="keyword">this</span>.space-<span class="keyword">this</span>.bottom;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="小鸟实现"><a href="#小鸟实现" class="headerlink" title="小鸟实现"></a>小鸟实现</h3><ul><li><p>小鸟（三种状态）， 翅膀在下面，翅膀在中间，翅膀在下面，执行第一次动画时，用翅膀在上面的图片，插放第二张时，用翅膀在中间的图片; 播放第三张图片时，用翅膀在下面的图片，如果循环，小乌就动起来了</p></li><li><p>代码</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Bird</span> (<span class="params">drawInfo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.ctx = drawInfo.ctx;</span><br><span class="line">    <span class="keyword">this</span>.image = drawInfo.image;</span><br><span class="line">    <span class="keyword">this</span>.width = <span class="keyword">this</span>.image.width/<span class="number">3</span>;</span><br><span class="line">    <span class="keyword">this</span>.height = <span class="keyword">this</span>.image.height;</span><br><span class="line">    <span class="keyword">this</span>.x = drawInfo.x;</span><br><span class="line">    <span class="keyword">this</span>.y = drawInfo.y;</span><br><span class="line">    <span class="keyword">this</span>.index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.speed = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">this</span>.aspeed = <span class="number">0.0004</span>;</span><br><span class="line">    <span class="keyword">this</span>.maxSpeed = <span class="number">0.3</span>;</span><br><span class="line">    <span class="keyword">this</span>.masAngle = <span class="number">45</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Bird.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Bird,</span><br><span class="line">    draw: function (deltaTime) &#123;</span><br><span class="line">        <span class="comment">//计算小鸟当前的位置</span></span><br><span class="line">        <span class="comment">//改变后的速度</span></span><br><span class="line">        <span class="keyword">this</span>.speed = <span class="keyword">this</span>.speed + <span class="keyword">this</span>.aspeed * deltaTime;</span><br><span class="line">        <span class="comment">//改变后的位移位置</span></span><br><span class="line">        <span class="keyword">this</span>.y += <span class="keyword">this</span>.speed * deltaTime + <span class="keyword">this</span>.aspeed*deltaTime*deltaTime/<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//保存状态</span></span><br><span class="line">        ctx.save()</span><br><span class="line">        <span class="comment">//小鸟要以自己为中心旋转，所以要把参照原点改成自己</span></span><br><span class="line">        ctx.translate(<span class="keyword">this</span>.x + <span class="keyword">this</span>.width/<span class="number">2</span>, <span class="keyword">this</span>.y + <span class="keyword">this</span>.height/<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//公式：当前速度/最大速度 = 当前角度/最大角度</span></span><br><span class="line">        <span class="keyword">var</span> currenAngle = <span class="keyword">this</span>.masAngle * <span class="keyword">this</span>.speed / <span class="keyword">this</span>.maxSpeed;</span><br><span class="line">        ctx.rotate(<span class="keyword">this</span>.angleToRadian(currenAngle));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制小鸟（9参模型，中间四个，图片的切片位置和大小，后面四个，图片的绘制位置和大小）</span></span><br><span class="line">        <span class="keyword">this</span>.index += <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">this</span>.ctx.drawImage(<span class="keyword">this</span>.image,</span><br><span class="line">            <span class="keyword">this</span>.width*(<span class="keyword">this</span>.index%<span class="number">3</span>), <span class="number">0</span>, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height,</span><br><span class="line">            -<span class="keyword">this</span>.width/<span class="number">2</span>, -<span class="keyword">this</span>.height/<span class="number">2</span>, <span class="keyword">this</span>.width, <span class="keyword">this</span>.height</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        ctx.restore();</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    angleToRadian: <span class="function"><span class="keyword">function</span> (<span class="params">angle</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> angle / <span class="number">180</span> * <span class="built_in">Math</span>.PI;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="实现碰撞判断"><a href="#实现碰撞判断" class="headerlink" title="实现碰撞判断"></a>实现碰撞判断</h3><ol><li><p>碰撞判断的原理：就是判断小鸟的坐标是否超出了画布的边缘，或者是否在管道的路径之内</p></li><li><p>判断是否超出了画布的边缘</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//小鸟超出了画布了</span></span><br><span class="line"><span class="keyword">if</span>(ctx.isPointInPath(bird.x + bird.width / <span class="number">2</span>, bird.y + bird.height /<span class="number">2</span>))&#123;</span><br><span class="line">    isDie = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>判断是否在管道的路径之内</p><ol><li><p>先把管道的路径绘制出来(pipe.js)</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//画两个方形</span></span><br><span class="line">    ctx.rect(<span class="keyword">this</span>.x, <span class="number">0</span>, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.topPipeHeight);</span><br><span class="line">    ctx.rect(<span class="keyword">this</span>.x, <span class="keyword">this</span>.topPipeHeight + <span class="keyword">this</span>.space, <span class="keyword">this</span>.topImage.width, <span class="keyword">this</span>.bottomPipeHeight);</span><br></pre></td></tr></table></figure></li><li><p>判断（flapyBird.html）</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(ctx.isPointInPath(bird.x + bird.width / <span class="number">2</span>, bird.y + bird.height /<span class="number">2</span>))&#123;</span><br><span class="line">                isDie = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="时间统计实现"><a href="#时间统计实现" class="headerlink" title="时间统计实现"></a>时间统计实现</h3><ol><li><p>获得累时间,用一下变量记录每播放一帧动画的时间(currentTime)，减去上次播放动画的时间(oldTime)，即为此帧与上一帧之间的时间差(deltaTime)；计算完时间差后，当前帧时间相对于下一帧，就变成了上一帧的时间（oldTime）</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算时间</span></span><br><span class="line">currentTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> deltaTime = currentTime - lastTime;</span><br><span class="line">lastTime = currentTime;</span><br></pre></td></tr></table></figure></li><li><p>计算时分秒、位置、并且开始执行绘制操作</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算时分秒</span></span><br><span class="line">totalTime += deltaTime;</span><br><span class="line"><span class="keyword">var</span> seconds = <span class="built_in">Math</span>.floor(totalTime/<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> hour = <span class="built_in">Math</span>.floor(seconds/<span class="number">3600</span>);</span><br><span class="line"><span class="keyword">var</span> minute = <span class="built_in">Math</span>.floor(seconds%<span class="number">3600</span>/<span class="number">60</span>);</span><br><span class="line"><span class="keyword">var</span> second = <span class="built_in">Math</span>.floor(seconds%<span class="number">60</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取文字及长度</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"您坚持了"</span>+hour+<span class="string">"小时"</span>+minute+<span class="string">"分"</span>+second+<span class="string">"秒"</span></span><br><span class="line"><span class="keyword">var</span> textwh = ctx.measureText(text);</span><br><span class="line"><span class="comment">//文字绘制</span></span><br><span class="line">ctx.fillText(text, canvas.width - textwh.width - <span class="number">20</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;FlapyBird游戏实现&quot;&gt;&lt;a href=&quot;#FlapyBird游戏实现&quot; class=&quot;headerlink&quot; title=&quot;FlapyBird游戏实现&quot;&gt;&lt;/a&gt;FlapyBird游戏实现&lt;/h2&gt;&lt;h3 id=&quot;项目需要分析&quot;&gt;&lt;a href=&quot;#项目需
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="canvas" scheme="http://yoursite.com/tags/canvas/"/>
    
  </entry>
  
  <entry>
    <title>同步和异步</title>
    <link href="http://yoursite.com/2017/01/20/%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5/"/>
    <id>http://yoursite.com/2017/01/20/同步和异步/</id>
    <published>2017-01-20T13:44:32.000Z</published>
    <updated>2018-03-30T13:44:46.091Z</updated>
    
    <content type="html"><![CDATA[<h3 id="js编译器编译代码的流程"><a href="#js编译器编译代码的流程" class="headerlink" title="js编译器编译代码的流程"></a>js编译器编译代码的流程</h3><ul><li>1.从上往下依次解析代码</li><li>2.如果是同步执行，则立即编译，直到该同步执行完毕之后才会继续编译<ul><li>同步执行会阻塞线程</li></ul></li><li>3.如果是异步执行，编译器不执行而是将该异步代码放入回调池中<ul><li>异步不会阻塞线程</li><li>异步一定是在同步之后执行</li></ul></li><li>4.编译器直到整个文件编译结束之后，再执行异步的代码</li></ul><h3 id="同步与异步的区别"><a href="#同步与异步的区别" class="headerlink" title="同步与异步的区别"></a>同步与异步的区别</h3><ul><li>API：异步有回调函数无返回值，同步有返回值无回调</li><li>性能：异步性能高，同步性能低</li><li>执行顺序：同步按照从上往下顺序执行，异步无序执行</li><li>线程：异步不会阻塞线程，同步会阻塞线程</li></ul><p>异步有ajax , setTimeout</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;js编译器编译代码的流程&quot;&gt;&lt;a href=&quot;#js编译器编译代码的流程&quot; class=&quot;headerlink&quot; title=&quot;js编译器编译代码的流程&quot;&gt;&lt;/a&gt;js编译器编译代码的流程&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;1.从上往下依次解析代码&lt;/li&gt;
&lt;li&gt;2.
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>前端向后台发送请求的几种方式</title>
    <link href="http://yoursite.com/2016/11/12/%E5%89%8D%E7%AB%AF%E5%90%91%E5%90%8E%E5%8F%B0%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F/"/>
    <id>http://yoursite.com/2016/11/12/前端向后台发送请求方式/</id>
    <published>2016-11-12T06:49:03.000Z</published>
    <updated>2018-03-12T06:50:13.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前端向后台发送请求的几种方式"><a href="#前端向后台发送请求的几种方式" class="headerlink" title="前端向后台发送请求的几种方式"></a>前端向后台发送请求的几种方式</h3><pre><code>1、 link标签的href属性2、 script标签的src属性3、 img标签的src属性4、 ajax发送请求5、 表单提交发送请求6、 a标签的href发送请求7、 iframe的src属性发送请求</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前端向后台发送请求的几种方式&quot;&gt;&lt;a href=&quot;#前端向后台发送请求的几种方式&quot; class=&quot;headerlink&quot; title=&quot;前端向后台发送请求的几种方式&quot;&gt;&lt;/a&gt;前端向后台发送请求的几种方式&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;1、 link标签的href
      
    
    </summary>
    
      <category term="前端" scheme="http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="发送请求" scheme="http://yoursite.com/tags/%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
</feed>
